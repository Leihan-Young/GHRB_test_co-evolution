{
  "issue_id": 7042,
  "issue_url": "https://github.com/apache/rocketmq/issues/7042",
  "title": "[Bug] TlsTest's serverRejectsSSLClient test case will throw TooLongFrameException",
  "description": "<h3 dir=\"auto\">Before Creating the Bug Report</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I found a bug, not just asking a question, which should be created in <a href=\"https://github.com/apache/rocketmq/discussions\">GitHub Discussions</a>.</p>\n</li>\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I have searched the <a href=\"https://github.com/apache/rocketmq/issues\">GitHub Issues</a> and <a href=\"https://github.com/apache/rocketmq/discussions\">GitHub Discussions</a>  of this repository and believe that this is not a duplicate.</p>\n</li>\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I have confirmed that this bug belongs to the current repository, not other repositories of RocketMQ.</p>\n</li>\n</ul>\n<h3 dir=\"auto\">Runtime platform environment</h3>\n<p dir=\"auto\">macos 13.1 (22C65) m1 and Windows10 22H2 64bit</p>\n<h3 dir=\"auto\">RocketMQ version</h3>\n<p dir=\"auto\">develop</p>\n<h3 dir=\"auto\">JDK Version</h3>\n<p dir=\"auto\">All three, Zuul JDK8, Oracle JDK8, and OpenJDK8, will produce the exception.</p>\n<h3 dir=\"auto\">Describe the Bug</h3>\n<p dir=\"auto\">When Github run maven-compile(macos-latest,JDK-8) Job for PR <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1809428503\" data-permission-text=\"Title is private\" data-url=\"https://github.com/apache/rocketmq/issues/7037\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/apache/rocketmq/pull/7037/hovercard\" href=\"https://github.com/apache/rocketmq/pull/7037\">#7037</a>, It throw one errors in org.apache.rocketmq.remoting.TlsTest ,and then maven-compile job will failed.<br>\nYou can see the detail in <a href=\"https://github.com/apache/rocketmq/actions/runs/5585136736\">Failed Action Summary</a><br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/67348866/254474336-b02644ad-d05a-445f-ae06-ef97b0da470f.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIwNTU5OTIsIm5iZiI6MTcxMjA1NTY5MiwicGF0aCI6Ii82NzM0ODg2Ni8yNTQ0NzQzMzYtYjAyNjQ0YWQtZDA1YS00NDVmLWFlMDYtZWY5N2IwZGE0NzBmLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MDIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDAyVDExMDEzMlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWYyOGNhNTJiYmJlNTZkZDMxODA4MTYzNDRmYzgyZWJiYWU0M2IwODU2Y2FjMDIwZTliNWRlYzhjNTg0NmNlYjgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.SsxWJA8VF6uwrg_pvN8CrxCDt9L_Uwo6SciDioOzXnU\"><img width=\"1143\" alt=\"image\" src=\"https://private-user-images.githubusercontent.com/67348866/254474336-b02644ad-d05a-445f-ae06-ef97b0da470f.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIwNTU5OTIsIm5iZiI6MTcxMjA1NTY5MiwicGF0aCI6Ii82NzM0ODg2Ni8yNTQ0NzQzMzYtYjAyNjQ0YWQtZDA1YS00NDVmLWFlMDYtZWY5N2IwZGE0NzBmLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MDIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDAyVDExMDEzMlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWYyOGNhNTJiYmJlNTZkZDMxODA4MTYzNDRmYzgyZWJiYWU0M2IwODU2Y2FjMDIwZTliNWRlYzhjNTg0NmNlYjgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.SsxWJA8VF6uwrg_pvN8CrxCDt9L_Uwo6SciDioOzXnU\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">Because the serverRejectsSSLClient test case in TlsTest will throw a TooLongFrameException: Adjusted frame length exceeds 16777216: 369296133 - discarded.</p>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/67348866/254474223-e734229c-1301-48ab-862d-aae7b038a409.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIwNTU5OTIsIm5iZiI6MTcxMjA1NTY5MiwicGF0aCI6Ii82NzM0ODg2Ni8yNTQ0NzQyMjMtZTczNDIyOWMtMTMwMS00OGFiLTg2MmQtYWFlN2IwMzhhNDA5LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MDIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDAyVDExMDEzMlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTcyODM1NDExMzg2MjA1Y2FlZmNkMTYzNjZjMTJiZTUzYjcwYzMwMTg1MjM3OWQ2MWI0Njk4ZmExNmNjNDNiYzQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.CPlo-DY2717HXOyi5a-s9946vl5-LzW7aJgkfGk6OSc\"><img width=\"1767\" alt=\"image\" src=\"https://private-user-images.githubusercontent.com/67348866/254474223-e734229c-1301-48ab-862d-aae7b038a409.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIwNTU5OTIsIm5iZiI6MTcxMjA1NTY5MiwicGF0aCI6Ii82NzM0ODg2Ni8yNTQ0NzQyMjMtZTczNDIyOWMtMTMwMS00OGFiLTg2MmQtYWFlN2IwMzhhNDA5LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MDIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDAyVDExMDEzMlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTcyODM1NDExMzg2MjA1Y2FlZmNkMTYzNjZjMTJiZTUzYjcwYzMwMTg1MjM3OWQ2MWI0Njk4ZmExNmNjNDNiYzQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.CPlo-DY2717HXOyi5a-s9946vl5-LzW7aJgkfGk6OSc\" style=\"max-width: 100%;\"></a>\n<h3 dir=\"auto\">Steps to Reproduce</h3>\n<p dir=\"auto\">In MacOS run the test in org.apache.rocketmq.remoting.TlsTest#serverRejectsSSLClient</p>\n<h3 dir=\"auto\">What Did You Expect to See?</h3>\n<p dir=\"auto\">Github Actions' maven-compile(macos-latest,JDK-8) will run successfully.</p>\n<h3 dir=\"auto\">What Did You See Instead?</h3>\n<p dir=\"auto\">fix the org.apache.rocketmq.remoting.TlsTest#serverRejectsSSLClient Test.</p>\n<h3 dir=\"auto\">Additional Context</h3>\n<p dir=\"auto\"><em>No response</em></p>",
  "description_text": "Before Creating the Bug Report\n\n\n I found a bug, not just asking a question, which should be created in GitHub Discussions.\n\n\n I have searched the GitHub Issues and GitHub Discussions  of this repository and believe that this is not a duplicate.\n\n\n I have confirmed that this bug belongs to the current repository, not other repositories of RocketMQ.\n\n\nRuntime platform environment\nmacos 13.1 (22C65) m1 and Windows10 22H2 64bit\nRocketMQ version\ndevelop\nJDK Version\nAll three, Zuul JDK8, Oracle JDK8, and OpenJDK8, will produce the exception.\nDescribe the Bug\nWhen Github run maven-compile(macos-latest,JDK-8) Job for PR #7037, It throw one errors in org.apache.rocketmq.remoting.TlsTest ,and then maven-compile job will failed.\nYou can see the detail in Failed Action Summary\n\nBecause the serverRejectsSSLClient test case in TlsTest will throw a TooLongFrameException: Adjusted frame length exceeds 16777216: 369296133 - discarded.\n\nSteps to Reproduce\nIn MacOS run the test in org.apache.rocketmq.remoting.TlsTest#serverRejectsSSLClient\nWhat Did You Expect to See?\nGithub Actions' maven-compile(macos-latest,JDK-8) will run successfully.\nWhat Did You See Instead?\nfix the org.apache.rocketmq.remoting.TlsTest#serverRejectsSSLClient Test.\nAdditional Context\nNo response"
}