{
  "issue_id": 6800,
  "issue_url": "https://github.com/apache/rocketmq/issues/6800",
  "title": "[Bug] isEnableBatchPush can not be changed since the setter name is wrong",
  "description": "<h3 dir=\"auto\">Before Creating the Bug Report</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I found a bug, not just asking a question, which should be created in <a href=\"https://github.com/apache/rocketmq/discussions\">GitHub Discussions</a>.</p>\n</li>\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I have searched the <a href=\"https://github.com/apache/rocketmq/issues\">GitHub Issues</a> and <a href=\"https://github.com/apache/rocketmq/discussions\">GitHub Discussions</a>  of this repository and believe that this is not a duplicate.</p>\n</li>\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I have confirmed that this bug belongs to the current repository, not other repositories of RocketMQ.</p>\n</li>\n</ul>\n<h3 dir=\"auto\">Runtime platform environment</h3>\n<p dir=\"auto\">Linux</p>\n<h3 dir=\"auto\">RocketMQ version</h3>\n<p dir=\"auto\">4.9.x</p>\n<h3 dir=\"auto\">JDK Version</h3>\n<p dir=\"auto\"><em>No response</em></p>\n<h3 dir=\"auto\">Describe the Bug</h3>\n<p dir=\"auto\">isEnableBatchPush can not be changed since the setter name is wrong</p>\n<h3 dir=\"auto\">Steps to Reproduce</h3>\n<ol dir=\"auto\">\n<li>add <code class=\"notranslate\">isEnableBatchPush=true</code> in the broker.properties config</li>\n<li>use <code class=\"notranslate\">enableDLegerCommitLog=true</code></li>\n<li>saw batch push is not enabled in dledger mode and the var isEnableBatchPush in MessageStoreConfig  still false</li>\n</ol>\n<p dir=\"auto\">using test to reproducer</p>\n<div class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"@Test\n    public void testBrokerControllerConfigInit() throws Exception {\n        Properties properties = new Properties();\n        properties.setProperty(\"isEnableBatchPush\", \"true\");\n        MessageStoreConfig messageStoreConfig = new MessageStoreConfig();\n        MixAll.properties2Object(properties, messageStoreConfig);\n        assertThat(messageStoreConfig.isEnableBatchPush()).isTrue();\n    }\n\"><pre class=\"notranslate\"><span class=\"pl-c1\">@</span><span class=\"pl-c1\">Test</span>\n    <span class=\"pl-k\">public</span> <span class=\"pl-smi\">void</span> <span class=\"pl-s1\">testBrokerControllerConfigInit</span>() <span class=\"pl-k\">throws</span> <span class=\"pl-s1\">Exception</span> {\n        <span class=\"pl-smi\">Properties</span> <span class=\"pl-s1\">properties</span> = <span class=\"pl-k\">new</span> <span class=\"pl-smi\">Properties</span>();\n        <span class=\"pl-s1\">properties</span>.<span class=\"pl-en\">setProperty</span>(<span class=\"pl-s\">\"isEnableBatchPush\"</span>, <span class=\"pl-s\">\"true\"</span>);\n        <span class=\"pl-smi\">MessageStoreConfig</span> <span class=\"pl-s1\">messageStoreConfig</span> = <span class=\"pl-k\">new</span> <span class=\"pl-smi\">MessageStoreConfig</span>();\n        <span class=\"pl-smi\">MixAll</span>.<span class=\"pl-en\">properties2Object</span>(<span class=\"pl-s1\">properties</span>, <span class=\"pl-s1\">messageStoreConfig</span>);\n        <span class=\"pl-en\">assertThat</span>(<span class=\"pl-s1\">messageStoreConfig</span>.<span class=\"pl-en\">isEnableBatchPush</span>()).<span class=\"pl-en\">isTrue</span>();\n    }</pre></div>\n<h3 dir=\"auto\">What Did You Expect to See?</h3>\n<p dir=\"auto\">isEnableBatchPush should be changed after set  <code class=\"notranslate\">isEnableBatchPush=true</code> in the broker.properties config</p>\n<h3 dir=\"auto\">What Did You See Instead?</h3>\n<p dir=\"auto\">isEnableBatchPush did not change in the MessageStoreConfig</p>\n<h3 dir=\"auto\">Additional Context</h3>\n<p dir=\"auto\"><em>No response</em></p>",
  "description_text": "Before Creating the Bug Report\n\n\n I found a bug, not just asking a question, which should be created in GitHub Discussions.\n\n\n I have searched the GitHub Issues and GitHub Discussions  of this repository and believe that this is not a duplicate.\n\n\n I have confirmed that this bug belongs to the current repository, not other repositories of RocketMQ.\n\n\nRuntime platform environment\nLinux\nRocketMQ version\n4.9.x\nJDK Version\nNo response\nDescribe the Bug\nisEnableBatchPush can not be changed since the setter name is wrong\nSteps to Reproduce\n\nadd isEnableBatchPush=true in the broker.properties config\nuse enableDLegerCommitLog=true\nsaw batch push is not enabled in dledger mode and the var isEnableBatchPush in MessageStoreConfig  still false\n\nusing test to reproducer\n@Test\n    public void testBrokerControllerConfigInit() throws Exception {\n        Properties properties = new Properties();\n        properties.setProperty(\"isEnableBatchPush\", \"true\");\n        MessageStoreConfig messageStoreConfig = new MessageStoreConfig();\n        MixAll.properties2Object(properties, messageStoreConfig);\n        assertThat(messageStoreConfig.isEnableBatchPush()).isTrue();\n    }\nWhat Did You Expect to See?\nisEnableBatchPush should be changed after set  isEnableBatchPush=true in the broker.properties config\nWhat Did You See Instead?\nisEnableBatchPush did not change in the MessageStoreConfig\nAdditional Context\nNo response"
}