{
  "issue_id": 16851,
  "issue_url": "https://github.com/OpenAPITools/openapi-generator/issues/16851",
  "title": "Passwords should be excluded from `toString`",
  "description": "<p dir=\"auto\">For the Java Spring generator (and potentially others), the generated <code class=\"notranslate\">toString</code> method includes all properties: </p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/d6421411c91af2dd3820b4a85cbfc1c4eb2c84ce/modules/openapi-generator/src/main/resources/JavaSpring/pojo.mustache#L289\">openapi-generator/modules/openapi-generator/src/main/resources/JavaSpring/pojo.mustache</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 289\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/OpenAPITools/openapi-generator/commit/d6421411c91af2dd3820b4a85cbfc1c4eb2c84ce\">d642141</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L289\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"289\"></td>\n          <td id=\"LC289\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s1\"><span class=\"pl-pse\">{</span>{#vars<span class=\"pl-pse\">}</span></span>}sb.append(\"    <span class=\"pl-s1\"><span class=\"pl-pse\">{</span>{name<span class=\"pl-pse\">}</span></span>}: \").append(toIndentedString(<span class=\"pl-s1\"><span class=\"pl-pse\">{</span>{name<span class=\"pl-pse\">}</span></span>})).append(\"\\n\"); </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">The properties may include sensitive information, such as passwords.<br>\nSince the <code class=\"notranslate\">toString</code> method is primarily used for logging purposes, sensitive information should be redacted (see also <a href=\"https://cwe.mitre.org/data/definitions/532.html\" rel=\"nofollow\">CWE-532</a>).</p>\n<p dir=\"auto\">The OpenAPI specification already has the modifier property called <code class=\"notranslate\">format</code>, that can be set to <code class=\"notranslate\">password</code> as a hint that a field contains sensitive information (see <a href=\"https://spec.openapis.org/oas/v3.1.0#data-types\" rel=\"nofollow\">https://spec.openapis.org/oas/v3.1.0#data-types</a>).</p>\n<h3 dir=\"auto\">Proposed mitigation:</h3>\n<ul dir=\"auto\">\n<li>The generator(s) should honor this hint in the generated <code class=\"notranslate\">toString</code> method and skip (or redact) fields that are marked as <code class=\"notranslate\">format: password</code>.</li>\n</ul>\n<h3 dir=\"auto\">Compatibility considerations:</h3>\n<ul dir=\"auto\">\n<li>Since the <code class=\"notranslate\">toString</code> method includes the class name before the opening curly brackets, there is no risk that developers might mistakenly use the <code class=\"notranslate\">toString</code> method for JSON serialization.</li>\n</ul>\n<h3 dir=\"auto\">Related issues:</h3>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1470878060\" data-permission-text=\"Title is private\" data-url=\"https://github.com/OpenAPITools/openapi-generator/issues/14156\" data-hovercard-type=\"issue\" data-hovercard-url=\"/OpenAPITools/openapi-generator/issues/14156/hovercard\" href=\"https://github.com/OpenAPITools/openapi-generator/issues/14156\">#14156</a> requests an enhancement feature for customizing and/or skipping <code class=\"notranslate\">toString</code> method generation.<br>\nEven though such a more flexible vendor extension could achieve the same goal, the secure default should be to always exclude sensitive information from the <code class=\"notranslate\">toString</code> method.</li>\n</ul>",
  "description_text": "For the Java Spring generator (and potentially others), the generated toString method includes all properties: \n\n\nopenapi-generator/modules/openapi-generator/src/main/resources/JavaSpring/pojo.mustache\n\n\n         Line 289\n      in\n      d642141\n\n\n\n\n\n\n {{#vars}}sb.append(\"    {{name}}: \").append(toIndentedString({{name}})).append(\"\\n\"); \n\n\n\n\n\nThe properties may include sensitive information, such as passwords.\nSince the toString method is primarily used for logging purposes, sensitive information should be redacted (see also CWE-532).\nThe OpenAPI specification already has the modifier property called format, that can be set to password as a hint that a field contains sensitive information (see https://spec.openapis.org/oas/v3.1.0#data-types).\nProposed mitigation:\n\nThe generator(s) should honor this hint in the generated toString method and skip (or redact) fields that are marked as format: password.\n\nCompatibility considerations:\n\nSince the toString method includes the class name before the opening curly brackets, there is no risk that developers might mistakenly use the toString method for JSON serialization.\n\nRelated issues:\n\n#14156 requests an enhancement feature for customizing and/or skipping toString method generation.\nEven though such a more flexible vendor extension could achieve the same goal, the secure default should be to always exclude sensitive information from the toString method.\n"
}