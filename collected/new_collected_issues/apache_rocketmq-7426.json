{
  "issue_id": 7429,
  "issue_url": "https://github.com/apache/rocketmq/issues/7429",
  "title": "[Bug] The channel map was not cleared properly in proxy",
  "description": "<h3 dir=\"auto\">Before Creating the Bug Report</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I found a bug, not just asking a question, which should be created in <a href=\"https://github.com/apache/rocketmq/discussions\">GitHub Discussions</a>.</p>\n</li>\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I have searched the <a href=\"https://github.com/apache/rocketmq/issues\">GitHub Issues</a> and <a href=\"https://github.com/apache/rocketmq/discussions\">GitHub Discussions</a>  of this repository and believe that this is not a duplicate.</p>\n</li>\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I have confirmed that this bug belongs to the current repository, not other repositories of RocketMQ.</p>\n</li>\n</ul>\n<h3 dir=\"auto\">Runtime platform environment</h3>\n<p dir=\"auto\">CentOS</p>\n<h3 dir=\"auto\">RocketMQ version</h3>\n<p dir=\"auto\">develop</p>\n<h3 dir=\"auto\">JDK Version</h3>\n<p dir=\"auto\"><em>No response</em></p>\n<h3 dir=\"auto\">Describe the Bug</h3>\n<p dir=\"auto\">The remoteChannelMap of HeartbeatSyncer was not cleared properly.</p>\n<h3 dir=\"auto\">Steps to Reproduce</h3>\n<p dir=\"auto\">Start two proxies in cluster mode, start a consumer and then shut down the consumer.</p>\n<h3 dir=\"auto\">What Did You Expect to See?</h3>\n<p dir=\"auto\">The remoteChannelMap of HeartbeatSyncer was cleared properly.</p>\n<h3 dir=\"auto\">What Did You See Instead?</h3>\n<p dir=\"auto\">The remoteChannelMap of HeartbeatSyncer was not cleared properly.</p>\n<h3 dir=\"auto\">Additional Context</h3>\n<p dir=\"auto\"><em>No response</em></p>",
  "description_text": "Before Creating the Bug Report\n\n\n I found a bug, not just asking a question, which should be created in GitHub Discussions.\n\n\n I have searched the GitHub Issues and GitHub Discussions  of this repository and believe that this is not a duplicate.\n\n\n I have confirmed that this bug belongs to the current repository, not other repositories of RocketMQ.\n\n\nRuntime platform environment\nCentOS\nRocketMQ version\ndevelop\nJDK Version\nNo response\nDescribe the Bug\nThe remoteChannelMap of HeartbeatSyncer was not cleared properly.\nSteps to Reproduce\nStart two proxies in cluster mode, start a consumer and then shut down the consumer.\nWhat Did You Expect to See?\nThe remoteChannelMap of HeartbeatSyncer was cleared properly.\nWhat Did You See Instead?\nThe remoteChannelMap of HeartbeatSyncer was not cleared properly.\nAdditional Context\nNo response"
}