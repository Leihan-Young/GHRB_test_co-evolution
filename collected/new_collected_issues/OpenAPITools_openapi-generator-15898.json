{
  "issue_id": 13488,
  "issue_url": "https://github.com/OpenAPITools/openapi-generator/issues/13488",
  "title": "[BUG] @RequestMapping annotation not allowed on @FeignClient interfaces",
  "description": "<h4 dir=\"auto\">Bug Report Checklist</h4>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you provided a full/minimal spec to reproduce the issue?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you validated the input using an OpenAPI validator (<a href=\"https://apidevtools.org/swagger-parser/online/\" rel=\"nofollow\">example</a>)?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Have you <a href=\"https://github.com/OpenAPITools/openapi-generator/wiki/FAQ#how-to-test-with-the-latest-master-of-openapi-generator\">tested with the latest master</a> to confirm the issue still exists?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you searched for related issues/PRs?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> What's the actual output vs expected output?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> [Optional] Sponsorship to speed up the bug fix or feature request (<a href=\"https://github.com/OpenAPITools/openapi-generator/issues/6178\" data-hovercard-type=\"issue\" data-hovercard-url=\"/OpenAPITools/openapi-generator/issues/6178/hovercard\">example</a>)</li>\n</ul>\n\n<h5 dir=\"auto\">Description</h5>\n<p dir=\"auto\">Code generation with plugin failed with error <code class=\"notranslate\">@RequestMapping annotation not allowed on @FeignClient interfaces</code> after update to 6.1.0</p>\n<h5 dir=\"auto\">openapi-generator version</h5>\n<p dir=\"auto\">6.1.0</p>\n<h5 dir=\"auto\">Generation Details</h5>\n<p dir=\"auto\">This is our configuration for the maven plugin:</p>\n<div class=\"highlight highlight-source-yaml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"<plugin>\n    <groupId>org.openapitools</groupId>\n    <artifactId>openapi-generator-maven-plugin</artifactId>\n    <version>${openapi-generator-maven-plugin.version}</version>\n    <configuration>\n        <configOptions>\n            <dateLibrary>java8</dateLibrary>\n            <disableHtmlEscaping>true</disableHtmlEscaping>\n            <hateoas>false</hateoas>\n            <hideGenerationTimestamp>true</hideGenerationTimestamp>\n            <interfaceOnly>true</interfaceOnly>\n            <sourceFolder>models</sourceFolder>\n            <useTags>true</useTags>\n        </configOptions>\n        <generateModels>true</generateModels>\n        <generatorName>spring</generatorName>\n        <library>spring-cloud</library>\n        <skipIfSpecIsUnchanged>true</skipIfSpecIsUnchanged>\n    </configuration>\n    <executions>\n        <execution>\n            <id>generate-api</id>\n            <goals>\n                <goal>generate</goal>\n            </goals>\n            <configuration>\n                <apiPackage>${project.groupId}.${project.artifactId}.api.v1</apiPackage>\n                <inputSpec>${project.basedir}/docs/openapi.yaml</inputSpec>\n                <modelPackage>${project.groupId}.${project.artifactId}.api.v1.model</modelPackage>\n                <modelNameSuffix>ApiV1</modelNameSuffix>\n            </configuration>\n        </execution>\n    </executions>\n</plugin>\"><pre class=\"notranslate\"><span class=\"pl-s\"><plugin></span>\n    <span class=\"pl-s\"><groupId>org.openapitools</groupId></span>\n    <span class=\"pl-s\"><artifactId>openapi-generator-maven-plugin</artifactId></span>\n    <span class=\"pl-s\"><version>${openapi-generator-maven-plugin.version}</version></span>\n    <span class=\"pl-s\"><configuration></span>\n        <span class=\"pl-s\"><configOptions></span>\n            <span class=\"pl-s\"><dateLibrary>java8</dateLibrary></span>\n            <span class=\"pl-s\"><disableHtmlEscaping>true</disableHtmlEscaping></span>\n            <span class=\"pl-s\"><hateoas>false</hateoas></span>\n            <span class=\"pl-s\"><hideGenerationTimestamp>true</hideGenerationTimestamp></span>\n            <span class=\"pl-s\"><interfaceOnly>true</interfaceOnly></span>\n            <span class=\"pl-s\"><sourceFolder>models</sourceFolder></span>\n            <span class=\"pl-s\"><useTags>true</useTags></span>\n        <span class=\"pl-s\"></configOptions></span>\n        <span class=\"pl-s\"><generateModels>true</generateModels></span>\n        <span class=\"pl-s\"><generatorName>spring</generatorName></span>\n        <span class=\"pl-s\"><library>spring-cloud</library></span>\n        <span class=\"pl-s\"><skipIfSpecIsUnchanged>true</skipIfSpecIsUnchanged></span>\n    <span class=\"pl-s\"></configuration></span>\n    <span class=\"pl-s\"><executions></span>\n        <span class=\"pl-s\"><execution></span>\n            <span class=\"pl-s\"><id>generate-api</id></span>\n            <span class=\"pl-s\"><goals></span>\n                <span class=\"pl-s\"><goal>generate</goal></span>\n            <span class=\"pl-s\"></goals></span>\n            <span class=\"pl-s\"><configuration></span>\n                <span class=\"pl-s\"><apiPackage>${project.groupId}.${project.artifactId}.api.v1</apiPackage></span>\n                <span class=\"pl-s\"><inputSpec>${project.basedir}/docs/openapi.yaml</inputSpec></span>\n                <span class=\"pl-s\"><modelPackage>${project.groupId}.${project.artifactId}.api.v1.model</modelPackage></span>\n                <span class=\"pl-s\"><modelNameSuffix>ApiV1</modelNameSuffix></span>\n            <span class=\"pl-s\"></configuration></span>\n        <span class=\"pl-s\"></execution></span>\n    <span class=\"pl-s\"></executions></span>\n<span class=\"pl-s\"></plugin></span></pre></div>\n<p dir=\"auto\">In openapi-generator version < 6.1.0, the plugin generate following code:</p>\n<div class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"@Generated(value = \"org.openapitools.codegen.languages.SpringCodegen\")\n@Validated\n@Tag(name = \"Test\")\npublic interface TestApi {\n...\n}\"><pre class=\"notranslate\"><span class=\"pl-c1\">@</span><span class=\"pl-c1\">Generated</span>(<span class=\"pl-s1\">value</span> = <span class=\"pl-s\">\"org.openapitools.codegen.languages.SpringCodegen\"</span>)\n<span class=\"pl-c1\">@</span><span class=\"pl-c1\">Validated</span>\n<span class=\"pl-c1\">@</span><span class=\"pl-c1\">Tag</span>(<span class=\"pl-s1\">name</span> = <span class=\"pl-s\">\"Test\"</span>)\n<span class=\"pl-k\">public</span> <span class=\"pl-k\">interface</span> <span class=\"pl-smi\">TestApi</span> {\n...\n}</pre></div>\n<p dir=\"auto\">This is the result after updating to 6.1.0+.</p>\n<div class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"@Generated(value = \"org.openapitools.codegen.languages.SpringCodegen\")\n@Validated\n@Tag(name = \"Test\")\n@RequestMapping(\"${openapi.localServices.base-path:/test/v1}\")\npublic interface TestApi {\"><pre class=\"notranslate\"><span class=\"pl-c1\">@</span><span class=\"pl-c1\">Generated</span>(<span class=\"pl-s1\">value</span> = <span class=\"pl-s\">\"org.openapitools.codegen.languages.SpringCodegen\"</span>)\n<span class=\"pl-c1\">@</span><span class=\"pl-c1\">Validated</span>\n<span class=\"pl-c1\">@</span><span class=\"pl-c1\">Tag</span>(<span class=\"pl-s1\">name</span> = <span class=\"pl-s\">\"Test\"</span>)\n<span class=\"pl-c1\">@</span><span class=\"pl-c1\">RequestMapping</span>(<span class=\"pl-s\">\"${openapi.localServices.base-path:/test/v1}\"</span>)\n<span class=\"pl-k\">public</span> <span class=\"pl-k\">interface</span> <span class=\"pl-smi\">TestApi</span> {</pre></div>\n<p dir=\"auto\">We use this interface to setup the feign clients like this:</p>\n<div class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"@FeignClient(name = \"test\",\n             url = \"${sdu.test.url:}\",\n             configuration = {TestApiConfig.class, ApiClientConfig.class})\npublic interface TestApiClient extends TestApi {\n}\"><pre class=\"notranslate\"><span class=\"pl-c1\">@</span><span class=\"pl-c1\">FeignClient</span>(<span class=\"pl-s1\">name</span> = <span class=\"pl-s\">\"test\"</span>,\n             <span class=\"pl-s1\">url</span> = <span class=\"pl-s\">\"${sdu.test.url:}\"</span>,\n             <span class=\"pl-s1\">configuration</span> = {<span class=\"pl-smi\">TestApiConfig</span>.<span class=\"pl-k\">class</span>, <span class=\"pl-smi\">ApiClientConfig</span>.<span class=\"pl-k\">class</span>})\n<span class=\"pl-k\">public</span> <span class=\"pl-k\">interface</span> <span class=\"pl-smi\">TestApiClient</span> <span class=\"pl-k\">extends</span> <span class=\"pl-smi\">TestApi</span> {\n}</pre></div>\n<h5 dir=\"auto\">Steps to reproduce</h5>\n\n<h5 dir=\"auto\">Related issues/PRs</h5>\n\n<h5 dir=\"auto\">Suggest a fix</h5>\n",
  "description_text": "Bug Report Checklist\n\n Have you provided a full/minimal spec to reproduce the issue?\n Have you validated the input using an OpenAPI validator (example)?\n Have you tested with the latest master to confirm the issue still exists?\n Have you searched for related issues/PRs?\n What's the actual output vs expected output?\n [Optional] Sponsorship to speed up the bug fix or feature request (example)\n\nDescription\nCode generation with plugin failed with error @RequestMapping annotation not allowed on @FeignClient interfaces after update to 6.1.0\nopenapi-generator version\n6.1.0\nGeneration Details\nThis is our configuration for the maven plugin:\n\n    org.openapitools\n    openapi-generator-maven-plugin\n    ${openapi-generator-maven-plugin.version}\n    \n        \n            java8\n            true\n            false\n            true\n            true\n            models\n            true\n        \n        true\n        spring\n        spring-cloud\n        true\n    \n    \n        \n            generate-api\n            \n                generate\n            \n            \n                ${project.groupId}.${project.artifactId}.api.v1\n                ${project.basedir}/docs/openapi.yaml\n                ${project.groupId}.${project.artifactId}.api.v1.model\n                ApiV1\n            \n        \n    \n\nIn openapi-generator version < 6.1.0, the plugin generate following code:\n@Generated(value = \"org.openapitools.codegen.languages.SpringCodegen\")\n@Validated\n@Tag(name = \"Test\")\npublic interface TestApi {\n...\n}\nThis is the result after updating to 6.1.0+.\n@Generated(value = \"org.openapitools.codegen.languages.SpringCodegen\")\n@Validated\n@Tag(name = \"Test\")\n@RequestMapping(\"${openapi.localServices.base-path:/test/v1}\")\npublic interface TestApi {\nWe use this interface to setup the feign clients like this:\n@FeignClient(name = \"test\",\n             url = \"${sdu.test.url:}\",\n             configuration = {TestApiConfig.class, ApiClientConfig.class})\npublic interface TestApiClient extends TestApi {\n}\nSteps to reproduce\nRelated issues/PRs\nSuggest a fix\n"
}