{
  "issue_id": 3169,
  "issue_url": "https://github.com/iBotPeaches/Apktool/issues/3169",
  "title": "[BUG] Exception in thread \"main\" while parsing a block mapping",
  "description": "<h3 dir=\"auto\">Information</h3>\n<ol dir=\"auto\">\n<li><strong>Apktool Version (<code class=\"notranslate\">apktool -version</code>)</strong> - 2.8.0</li>\n<li><strong>Operating System (Mac, Linux, Windows)</strong> - Windows</li>\n<li><strong>APK From? (Playstore, ROM, Other)</strong> -  From internet.</li>\n<li><strong>Java Version (<code class=\"notranslate\">java --version</code>)</strong> - java version \"1.8.0_371\"<br>\nJava(TM) SE Runtime Environment (build 1.8.0_371-b11)<br>\nJava HotSpot(TM) 64-Bit Server VM (build 25.371-b11, mixed mode)</li>\n</ol>\n<h3 dir=\"auto\">Stacktrace/Logcat</h3>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\">I: Using Apktool 2.8.0\n>Exception in thread \"main\" while parsing a block mapping\n> in 'reader', line 2, column 1:\n>    apkFileName: project.apk\n>    ^\n>expected <block end>, but found '-'\n> in 'reader', line 3, column 1:\n>    - resources.arsc\n>    ^\n>\tat org.yaml.snakeyaml.parser.ParserImpl$ParseBlockMappingKey.produce(ParserImpl.java:665)\n>\tat org.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:171)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector$1.peek(CommentEventsCollector.java:57)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector$1.peek(CommentEventsCollector.java:43)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector.collectEvents(CommentEventsCollector.java:136)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector.collectEvents(CommentEventsCollector.java:116)\n>\tat org.yaml.snakeyaml.composer.Composer.composeScalarNode(Composer.java:221)\n>\tat org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:190)\n>\tat org.yaml.snakeyaml.composer.Composer.composeValueNode(Composer.java:321)\n>\tat org.yaml.snakeyaml.composer.Composer.composeMappingChildren(Composer.java:312)\n>\tat org.yaml.snakeyaml.composer.Composer.composeMappingNode(Composer.java:293)\n>\tat org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:194)\n>\tat org.yaml.snakeyaml.composer.Composer.getNode(Composer.java:116)\n>\tat org.yaml.snakeyaml.composer.Composer.getSingleNode(Composer.java:142)\n>\tat org.yaml.snakeyaml.constructor.BaseConstructor.getSingleData(BaseConstructor.java:155)\n>\tat org.yaml.snakeyaml.Yaml.loadFromReader(Yaml.java:477)\n>\tat org.yaml.snakeyaml.Yaml.loadAs(Yaml.java:470)\n>\tat brut.androlib.apk.ApkInfo.load(ApkInfo.java:164)\n>\tat brut.androlib.apk.ApkInfo.load(ApkInfo.java:172)\n>\tat brut.androlib.ApkBuilder.build(ApkBuilder.java:82)\n>\tat brut.apktool.Main.cmdBuild(Main.java:261)\n>\tat brut.apktool.Main.main(Main.java:90)\"><pre class=\"notranslate\"><code class=\"notranslate\">>I: Using Apktool 2.8.0\n>Exception in thread \"main\" while parsing a block mapping\n> in 'reader', line 2, column 1:\n>    apkFileName: project.apk\n>    ^\n>expected <block end>, but found '-'\n> in 'reader', line 3, column 1:\n>    - resources.arsc\n>    ^\n>\tat org.yaml.snakeyaml.parser.ParserImpl$ParseBlockMappingKey.produce(ParserImpl.java:665)\n>\tat org.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:171)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector$1.peek(CommentEventsCollector.java:57)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector$1.peek(CommentEventsCollector.java:43)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector.collectEvents(CommentEventsCollector.java:136)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector.collectEvents(CommentEventsCollector.java:116)\n>\tat org.yaml.snakeyaml.composer.Composer.composeScalarNode(Composer.java:221)\n>\tat org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:190)\n>\tat org.yaml.snakeyaml.composer.Composer.composeValueNode(Composer.java:321)\n>\tat org.yaml.snakeyaml.composer.Composer.composeMappingChildren(Composer.java:312)\n>\tat org.yaml.snakeyaml.composer.Composer.composeMappingNode(Composer.java:293)\n>\tat org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:194)\n>\tat org.yaml.snakeyaml.composer.Composer.getNode(Composer.java:116)\n>\tat org.yaml.snakeyaml.composer.Composer.getSingleNode(Composer.java:142)\n>\tat org.yaml.snakeyaml.constructor.BaseConstructor.getSingleData(BaseConstructor.java:155)\n>\tat org.yaml.snakeyaml.Yaml.loadFromReader(Yaml.java:477)\n>\tat org.yaml.snakeyaml.Yaml.loadAs(Yaml.java:470)\n>\tat brut.androlib.apk.ApkInfo.load(ApkInfo.java:164)\n>\tat brut.androlib.apk.ApkInfo.load(ApkInfo.java:172)\n>\tat brut.androlib.ApkBuilder.build(ApkBuilder.java:82)\n>\tat brut.apktool.Main.cmdBuild(Main.java:261)\n>\tat brut.apktool.Main.main(Main.java:90)\n</code></pre></div>\n<h3 dir=\"auto\">Steps to Reproduce</h3>\n<ol dir=\"auto\">\n<li><code class=\"notranslate\">Decompile apk .</code></li>\n<li><code class=\"notranslate\">Compile apk directly.</code></li>\n<li><code class=\"notranslate\">Then, Missing contents of \"compressionType: false\" and \"doNotCompress:\" in the file apktool.yml </code></li>\n</ol>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"!!brut.androlib.apk.ApkInfo\napkFileName: project.apk\n- resources.arsc\n- png\nisFrameworkApk: false\nmApkFileName: Terminal Emulator.apk\nmSdkInfo:\n  minSdkVersion: '23'\npackageInfo:\n  forcedPackageId: '127'\n  renameManifestPackage: null\nresourcesAreCompressed: false\nsharedLibrary: false\nsparseResources: true\nunknownFiles: {}\nusesFramework:\n  ids:\n  - 1\n  tag: null\nversion: 2.8.0\nversionInfo:\n  versionCode: '71'\n  versionName: 1.0.70\"><pre class=\"notranslate\"><code class=\"notranslate\">!!brut.androlib.apk.ApkInfo\napkFileName: project.apk\n- resources.arsc\n- png\nisFrameworkApk: false\nmApkFileName: Terminal Emulator.apk\nmSdkInfo:\n  minSdkVersion: '23'\npackageInfo:\n  forcedPackageId: '127'\n  renameManifestPackage: null\nresourcesAreCompressed: false\nsharedLibrary: false\nsparseResources: true\nunknownFiles: {}\nusesFramework:\n  ids:\n  - 1\n  tag: null\nversion: 2.8.0\nversionInfo:\n  versionCode: '71'\n  versionName: 1.0.70\n</code></pre></div>\n<h3 dir=\"auto\">Frameworks</h3>\n<p dir=\"auto\">If this APK is from an OEM ROM (Samsung, HTC, LG). Please attach framework files<br>\n(<code class=\"notranslate\">.apks</code> that live in <code class=\"notranslate\">/system/framework</code> or <code class=\"notranslate\">/system/priv-app</code>)</p>\n<h3 dir=\"auto\">APK</h3>\n<p dir=\"auto\">If this APK can be freely shared, please upload/attach a link to it.<br>\n<a href=\"https://github.com/iBotPeaches/Apktool/files/12090198/Terminal.Emulator.zip\">Terminal Emulator.zip</a></p>\n<h3 dir=\"auto\">Questions to ask before submission</h3>\n<ol dir=\"auto\">\n<li>Have you tried <code class=\"notranslate\">apktool d</code>, <code class=\"notranslate\">apktool b</code> without changing anything? Without changing anything.</li>\n<li>If you are trying to install a modified apk, did you resign it?</li>\n<li>Are you using the latest apktool version? Yes, latest version.</li>\n</ol>",
  "description_text": "Information\n\nApktool Version (apktool -version) - 2.8.0\nOperating System (Mac, Linux, Windows) - Windows\nAPK From? (Playstore, ROM, Other) -  From internet.\nJava Version (java --version) - java version \"1.8.0_371\"\nJava(TM) SE Runtime Environment (build 1.8.0_371-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.371-b11, mixed mode)\n\nStacktrace/Logcat\n in 'reader', line 2, column 1:\n>    apkFileName: project.apk\n>    ^\n>expected , but found '-'\n> in 'reader', line 3, column 1:\n>    - resources.arsc\n>    ^\n>\tat org.yaml.snakeyaml.parser.ParserImpl$ParseBlockMappingKey.produce(ParserImpl.java:665)\n>\tat org.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:171)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector$1.peek(CommentEventsCollector.java:57)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector$1.peek(CommentEventsCollector.java:43)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector.collectEvents(CommentEventsCollector.java:136)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector.collectEvents(CommentEventsCollector.java:116)\n>\tat org.yaml.snakeyaml.composer.Composer.composeScalarNode(Composer.java:221)\n>\tat org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:190)\n>\tat org.yaml.snakeyaml.composer.Composer.composeValueNode(Composer.java:321)\n>\tat org.yaml.snakeyaml.composer.Composer.composeMappingChildren(Composer.java:312)\n>\tat org.yaml.snakeyaml.composer.Composer.composeMappingNode(Composer.java:293)\n>\tat org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:194)\n>\tat org.yaml.snakeyaml.composer.Composer.getNode(Composer.java:116)\n>\tat org.yaml.snakeyaml.composer.Composer.getSingleNode(Composer.java:142)\n>\tat org.yaml.snakeyaml.constructor.BaseConstructor.getSingleData(BaseConstructor.java:155)\n>\tat org.yaml.snakeyaml.Yaml.loadFromReader(Yaml.java:477)\n>\tat org.yaml.snakeyaml.Yaml.loadAs(Yaml.java:470)\n>\tat brut.androlib.apk.ApkInfo.load(ApkInfo.java:164)\n>\tat brut.androlib.apk.ApkInfo.load(ApkInfo.java:172)\n>\tat brut.androlib.ApkBuilder.build(ApkBuilder.java:82)\n>\tat brut.apktool.Main.cmdBuild(Main.java:261)\n>\tat brut.apktool.Main.main(Main.java:90)\">>I: Using Apktool 2.8.0\n>Exception in thread \"main\" while parsing a block mapping\n> in 'reader', line 2, column 1:\n>    apkFileName: project.apk\n>    ^\n>expected , but found '-'\n> in 'reader', line 3, column 1:\n>    - resources.arsc\n>    ^\n>\tat org.yaml.snakeyaml.parser.ParserImpl$ParseBlockMappingKey.produce(ParserImpl.java:665)\n>\tat org.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:171)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector$1.peek(CommentEventsCollector.java:57)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector$1.peek(CommentEventsCollector.java:43)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector.collectEvents(CommentEventsCollector.java:136)\n>\tat org.yaml.snakeyaml.comments.CommentEventsCollector.collectEvents(CommentEventsCollector.java:116)\n>\tat org.yaml.snakeyaml.composer.Composer.composeScalarNode(Composer.java:221)\n>\tat org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:190)\n>\tat org.yaml.snakeyaml.composer.Composer.composeValueNode(Composer.java:321)\n>\tat org.yaml.snakeyaml.composer.Composer.composeMappingChildren(Composer.java:312)\n>\tat org.yaml.snakeyaml.composer.Composer.composeMappingNode(Composer.java:293)\n>\tat org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:194)\n>\tat org.yaml.snakeyaml.composer.Composer.getNode(Composer.java:116)\n>\tat org.yaml.snakeyaml.composer.Composer.getSingleNode(Composer.java:142)\n>\tat org.yaml.snakeyaml.constructor.BaseConstructor.getSingleData(BaseConstructor.java:155)\n>\tat org.yaml.snakeyaml.Yaml.loadFromReader(Yaml.java:477)\n>\tat org.yaml.snakeyaml.Yaml.loadAs(Yaml.java:470)\n>\tat brut.androlib.apk.ApkInfo.load(ApkInfo.java:164)\n>\tat brut.androlib.apk.ApkInfo.load(ApkInfo.java:172)\n>\tat brut.androlib.ApkBuilder.build(ApkBuilder.java:82)\n>\tat brut.apktool.Main.cmdBuild(Main.java:261)\n>\tat brut.apktool.Main.main(Main.java:90)\n\nSteps to Reproduce\n\nDecompile apk .\nCompile apk directly.\nThen, Missing contents of \"compressionType: false\" and \"doNotCompress:\" in the file apktool.yml \n\n!!brut.androlib.apk.ApkInfo\napkFileName: project.apk\n- resources.arsc\n- png\nisFrameworkApk: false\nmApkFileName: Terminal Emulator.apk\nmSdkInfo:\n  minSdkVersion: '23'\npackageInfo:\n  forcedPackageId: '127'\n  renameManifestPackage: null\nresourcesAreCompressed: false\nsharedLibrary: false\nsparseResources: true\nunknownFiles: {}\nusesFramework:\n  ids:\n  - 1\n  tag: null\nversion: 2.8.0\nversionInfo:\n  versionCode: '71'\n  versionName: 1.0.70\n\nFrameworks\nIf this APK is from an OEM ROM (Samsung, HTC, LG). Please attach framework files\n(.apks that live in /system/framework or /system/priv-app)\nAPK\nIf this APK can be freely shared, please upload/attach a link to it.\nTerminal Emulator.zip\nQuestions to ask before submission\n\nHave you tried apktool d, apktool b without changing anything? Without changing anything.\nIf you are trying to install a modified apk, did you resign it?\nAre you using the latest apktool version? Yes, latest version.\n"
}