{
  "issue_id": 11047,
  "issue_url": "https://github.com/apache/dubbo/issues/11047",
  "title": "Remove direct dependency of `protobuf-java`",
  "description": "<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I have searched the <a href=\"https://github.com/apache/dubbo/issues\">issues</a> of this repository and believe that this is not a duplicate.</li>\n</ul>\n<h2 dir=\"auto\">Describe the proposal</h2>\n<p dir=\"auto\"><strong>Goal:</strong> Remove compile logic of <code class=\"notranslate\">dubbo-rpc/dubbo-rpc-triple/src/main/proto/triple_wrapper.proto</code> to avoid version-locked of <code class=\"notranslate\">protobuf-java</code></p>\n<p dir=\"auto\"><strong>Changes:</strong></p>\n<ol dir=\"auto\">\n<li>Rewrite <code class=\"notranslate\">org.apache.dubbo.rpc.protocol.tri.call.ReflectionAbstractServerCall</code>, replace generated code with custom encoding.</li>\n<li>Check gRPC <code class=\"notranslate\">ReflectionService</code> and <code class=\"notranslate\">HealthCheck</code> API to avoid starting failure without <code class=\"notranslate\">protobuf-java</code></li>\n<li>Set <code class=\"notranslate\">protobuf-java</code> scope to <code class=\"notranslate\">provided</code></li>\n</ol>",
  "description_text": "\n I have searched the issues of this repository and believe that this is not a duplicate.\n\nDescribe the proposal\nGoal: Remove compile logic of dubbo-rpc/dubbo-rpc-triple/src/main/proto/triple_wrapper.proto to avoid version-locked of protobuf-java\nChanges:\n\nRewrite org.apache.dubbo.rpc.protocol.tri.call.ReflectionAbstractServerCall, replace generated code with custom encoding.\nCheck gRPC ReflectionService and HealthCheck API to avoid starting failure without protobuf-java\nSet protobuf-java scope to provided\n"
}