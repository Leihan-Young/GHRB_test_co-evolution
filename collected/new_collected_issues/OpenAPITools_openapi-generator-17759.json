{
  "issue_id": 17757,
  "issue_url": "https://github.com/OpenAPITools/openapi-generator/issues/17757",
  "title": "[BUG][JAVA] Include minimum and maximum values in arrays with number items",
  "description": "<h4 dir=\"auto\">Bug Report Checklist</h4>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you provided a full/minimal spec to reproduce the issue?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you validated the input using an OpenAPI validator (<a href=\"https://apidevtools.org/swagger-parser/online/\" rel=\"nofollow\">example</a>)?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you <a href=\"https://github.com/OpenAPITools/openapi-generator/wiki/FAQ#how-to-test-with-the-latest-master-of-openapi-generator\">tested with the latest master</a> to confirm the issue still exists?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you searched for related issues/PRs?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> What's the actual output vs expected output?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> [Optional] Sponsorship to speed up the bug fix or feature request (<a href=\"https://github.com/OpenAPITools/openapi-generator/issues/6178\" data-hovercard-type=\"issue\" data-hovercard-url=\"/OpenAPITools/openapi-generator/issues/6178/hovercard\">example</a>)</li>\n</ul>\n\n<h5 dir=\"auto\">Description</h5>\n\n<p dir=\"auto\">The current spring generator generates validator annotation, which excludes the minimum and maximum values ofr numbers in an array.<br>\nInstead of</p>\n<div class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"@Valid\nprivate List<@DecimalMin(value = \"1\", inclusive = false) @DecimalMax(value = \"10\", inclusive = false)BigDecimal> numberMinMax;\"><pre class=\"notranslate\"><span class=\"pl-c1\">@</span><span class=\"pl-c1\">Valid</span>\n<span class=\"pl-k\">private</span> <span class=\"pl-smi\">List</span><<span class=\"pl-c1\">@</span><span class=\"pl-c1\">DecimalMin</span>(<span class=\"pl-s1\">value</span> = <span class=\"pl-s\">\"1\"</span>, <span class=\"pl-s1\">inclusive</span> = <span class=\"pl-c1\">false</span>) <span class=\"pl-c1\">@</span><span class=\"pl-c1\">DecimalMax</span>(<span class=\"pl-s1\">value</span> = <span class=\"pl-s\">\"10\"</span>, <span class=\"pl-s1\">inclusive</span> = <span class=\"pl-c1\">false</span>)<span class=\"pl-smi\">BigDecimal</span>> <span class=\"pl-s1\">numberMinMax</span>;</pre></div>\n<p dir=\"auto\">i would expect</p>\n<div class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"@Valid\nprivate List<@DecimalMin(value = \"1\", inclusive = true) @DecimalMax(value = \"10\", inclusive = true)BigDecimal> numberMinMax;\"><pre class=\"notranslate\"><span class=\"pl-c1\">@</span><span class=\"pl-c1\">Valid</span>\n<span class=\"pl-k\">private</span> <span class=\"pl-smi\">List</span><<span class=\"pl-c1\">@</span><span class=\"pl-c1\">DecimalMin</span>(<span class=\"pl-s1\">value</span> = <span class=\"pl-s\">\"1\"</span>, <span class=\"pl-s1\">inclusive</span> = <span class=\"pl-c1\">true</span>) <span class=\"pl-c1\">@</span><span class=\"pl-c1\">DecimalMax</span>(<span class=\"pl-s1\">value</span> = <span class=\"pl-s\">\"10\"</span>, <span class=\"pl-s1\">inclusive</span> = <span class=\"pl-c1\">true</span>)<span class=\"pl-smi\">BigDecimal</span>> <span class=\"pl-s1\">numberMinMax</span>;</pre></div>\n<p dir=\"auto\">According to the <a href=\"https://swagger.io/docs/specification/data-models/data-types/\" rel=\"nofollow\">swagger openapi</a> documentation:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"By default, the minimum and maximum values are included in the range, that is:\n\n    minimum \u2264 value \u2264 maximum\n\nTo exclude the boundary values, specify exclusiveMinimum: true and exclusiveMaximum: true.\"><pre class=\"notranslate\"><code class=\"notranslate\">By default, the minimum and maximum values are included in the range, that is:\n\n    minimum \u2264 value \u2264 maximum\n\nTo exclude the boundary values, specify exclusiveMinimum: true and exclusiveMaximum: true.\n</code></pre></div>\n<h5 dir=\"auto\">openapi-generator version</h5>\n<p dir=\"auto\">7.2.0</p>\n<h5 dir=\"auto\">OpenAPI declaration file content or url</h5>\n\n<p dir=\"auto\">Used API declaration from <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/test/resources/3_0/spring/issue_17150.yaml#L70\">issue_17150</a>.</p>\n<div class=\"highlight highlight-source-yaml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"numberMinMax:\n  type: array\n  items:\n    type: number\n    minimum: 1\n    maximum: 10\"><pre class=\"notranslate\"><span class=\"pl-ent\">numberMinMax</span>:\n  <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">array</span>\n  <span class=\"pl-ent\">items</span>:\n    <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">number</span>\n    <span class=\"pl-ent\">minimum</span>: <span class=\"pl-c1\">1</span>\n    <span class=\"pl-ent\">maximum</span>: <span class=\"pl-c1\">10</span></pre></div>\n<h5 dir=\"auto\">Command line used for generation</h5>\n<p dir=\"auto\">generatorName:  spring</p>\n<h5 dir=\"auto\">Steps to reproduce</h5>\n\n<ul dir=\"auto\">\n<li>Generate a Java server stub and check the generated code</li>\n</ul>\n<h5 dir=\"auto\">Related issues/PRs</h5>\n\n<p dir=\"auto\">The fix for <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2003841044\" data-permission-text=\"Title is private\" data-url=\"https://github.com/OpenAPITools/openapi-generator/issues/17150\" data-hovercard-type=\"issue\" data-hovercard-url=\"/OpenAPITools/openapi-generator/issues/17150/hovercard\" href=\"https://github.com/OpenAPITools/openapi-generator/issues/17150\">#17150</a> seems not to be 100% accurate.</p>\n<h5 dir=\"auto\">Suggest a fix/enhancement</h5>\n\n<p dir=\"auto\"><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2111199498\" data-permission-text=\"Title is private\" data-url=\"https://github.com/OpenAPITools/openapi-generator/issues/17759\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/OpenAPITools/openapi-generator/pull/17759/hovercard\" href=\"https://github.com/OpenAPITools/openapi-generator/pull/17759\">#17759</a></p>",
  "description_text": "Bug Report Checklist\n\n Have you provided a full/minimal spec to reproduce the issue?\n Have you validated the input using an OpenAPI validator (example)?\n Have you tested with the latest master to confirm the issue still exists?\n Have you searched for related issues/PRs?\n What's the actual output vs expected output?\n [Optional] Sponsorship to speed up the bug fix or feature request (example)\n\nDescription\nThe current spring generator generates validator annotation, which excludes the minimum and maximum values ofr numbers in an array.\nInstead of\n numberMinMax;\">@Valid\nprivate List<@DecimalMin(value = \"1\", inclusive = false) @DecimalMax(value = \"10\", inclusive = false)BigDecimal> numberMinMax;\ni would expect\n numberMinMax;\">@Valid\nprivate List<@DecimalMin(value = \"1\", inclusive = true) @DecimalMax(value = \"10\", inclusive = true)BigDecimal> numberMinMax;\nAccording to the swagger openapi documentation:\nBy default, the minimum and maximum values are included in the range, that is:\n\n    minimum \u2264 value \u2264 maximum\n\nTo exclude the boundary values, specify exclusiveMinimum: true and exclusiveMaximum: true.\n\nopenapi-generator version\n7.2.0\nOpenAPI declaration file content or url\nUsed API declaration from issue_17150.\nnumberMinMax:\n  type: array\n  items:\n    type: number\n    minimum: 1\n    maximum: 10\nCommand line used for generation\ngeneratorName:  spring\nSteps to reproduce\n\nGenerate a Java server stub and check the generated code\n\nRelated issues/PRs\nThe fix for #17150 seems not to be 100% accurate.\nSuggest a fix/enhancement\n#17759"
}