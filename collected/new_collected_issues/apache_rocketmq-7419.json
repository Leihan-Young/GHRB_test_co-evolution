{
  "issue_id": 7418,
  "issue_url": "https://github.com/apache/rocketmq/issues/7418",
  "title": "[Bug] UtilAllTest.testCalculateFileSizeInPath is unstable in Windows",
  "description": "<h3 dir=\"auto\">Before Creating the Bug Report</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I found a bug, not just asking a question, which should be created in <a href=\"https://github.com/apache/rocketmq/discussions\">GitHub Discussions</a>.</p>\n</li>\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I have searched the <a href=\"https://github.com/apache/rocketmq/issues\">GitHub Issues</a> and <a href=\"https://github.com/apache/rocketmq/discussions\">GitHub Discussions</a>  of this repository and believe that this is not a duplicate.</p>\n</li>\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I have confirmed that this bug belongs to the current repository, not other repositories of RocketMQ.</p>\n</li>\n</ul>\n<h3 dir=\"auto\">Runtime platform environment</h3>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ mvn -v\nApache Maven 3.9.0 (9b58d2bad23a66be161c4664ef21ce219c2c8584)\nMaven home: C:\\Users\\allon\\Downloads\\apache-maven-3.9.0\nJava version: 1.8.0_272, vendor: AdoptOpenJDK, runtime: C:\\Program Files\\AdoptOpenJDK\\jdk-8.0.272.10-hotspot\\jre\nDefault locale: en_US, platform encoding: Cp1252\nOS name: \"windows 10\", version: \"10.0\", arch: \"amd64\", family: \"windows\"\"><pre class=\"notranslate\"><code class=\"notranslate\">$ mvn -v\nApache Maven 3.9.0 (9b58d2bad23a66be161c4664ef21ce219c2c8584)\nMaven home: C:\\Users\\allon\\Downloads\\apache-maven-3.9.0\nJava version: 1.8.0_272, vendor: AdoptOpenJDK, runtime: C:\\Program Files\\AdoptOpenJDK\\jdk-8.0.272.10-hotspot\\jre\nDefault locale: en_US, platform encoding: Cp1252\nOS name: \"windows 10\", version: \"10.0\", arch: \"amd64\", family: \"windows\"\n</code></pre></div>\n<h3 dir=\"auto\">RocketMQ version</h3>\n<p dir=\"auto\">branch: develop<br>\nGit commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/apache/rocketmq/commit/4f1b42a7c5557bcadd6b9982a0c9bd876622c69e/hovercard\" href=\"https://github.com/apache/rocketmq/commit/4f1b42a7c5557bcadd6b9982a0c9bd876622c69e\"><tt>4f1b42a</tt></a></p>\n<h3 dir=\"auto\">JDK Version</h3>\n<p dir=\"auto\">AdoptOpenJDK 1.8.0_272</p>\n<h3 dir=\"auto\">Describe the Bug</h3>\n<p dir=\"auto\">When building the repo on the machine described above <code class=\"notranslate\">UtilAllTest.testCalculateFileSizeInPath</code> fails:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Failed tests:\n  UtilAllTest.testCalculateFileSizeInPath:242 expected:<0> but was:<5252>\"><pre class=\"notranslate\"><code class=\"notranslate\">Failed tests:\n  UtilAllTest.testCalculateFileSizeInPath:242 expected:<0> but was:<5252>\n</code></pre></div>\n<h3 dir=\"auto\">Steps to Reproduce</h3>\n<p dir=\"auto\">Run <code class=\"notranslate\">mvn install</code>.<br>\nI saw the failure on the machine described above, did not try with other machines.</p>\n<h3 dir=\"auto\">What Did You Expect to See?</h3>\n<p dir=\"auto\">The test should pass</p>\n<h3 dir=\"auto\">What Did You See Instead?</h3>\n<p dir=\"auto\">The test fails</p>\n<h3 dir=\"auto\">Additional Context</h3>\n<p dir=\"auto\"><em>No response</em></p>",
  "description_text": "Before Creating the Bug Report\n\n\n I found a bug, not just asking a question, which should be created in GitHub Discussions.\n\n\n I have searched the GitHub Issues and GitHub Discussions  of this repository and believe that this is not a duplicate.\n\n\n I have confirmed that this bug belongs to the current repository, not other repositories of RocketMQ.\n\n\nRuntime platform environment\n$ mvn -v\nApache Maven 3.9.0 (9b58d2bad23a66be161c4664ef21ce219c2c8584)\nMaven home: C:\\Users\\allon\\Downloads\\apache-maven-3.9.0\nJava version: 1.8.0_272, vendor: AdoptOpenJDK, runtime: C:\\Program Files\\AdoptOpenJDK\\jdk-8.0.272.10-hotspot\\jre\nDefault locale: en_US, platform encoding: Cp1252\nOS name: \"windows 10\", version: \"10.0\", arch: \"amd64\", family: \"windows\"\n\nRocketMQ version\nbranch: develop\nGit commit: 4f1b42a\nJDK Version\nAdoptOpenJDK 1.8.0_272\nDescribe the Bug\nWhen building the repo on the machine described above UtilAllTest.testCalculateFileSizeInPath fails:\nFailed tests:\n  UtilAllTest.testCalculateFileSizeInPath:242 expected:<0> but was:<5252>\n\nSteps to Reproduce\nRun mvn install.\nI saw the failure on the machine described above, did not try with other machines.\nWhat Did You Expect to See?\nThe test should pass\nWhat Did You See Instead?\nThe test fails\nAdditional Context\nNo response"
}