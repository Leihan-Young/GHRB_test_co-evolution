{
  "issue_id": 17423,
  "issue_url": "https://github.com/OpenAPITools/openapi-generator/issues/17423",
  "title": "[BUG] (OAS 3.1.0) Description is missing in properties of type array - misc generators",
  "description": "<h4 dir=\"auto\">Bug Report Checklist</h4>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you provided a full/minimal spec to reproduce the issue?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you validated the input using an OpenAPI validator (<a href=\"https://apidevtools.org/swagger-parser/online/\" rel=\"nofollow\">example</a>)?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you <a href=\"https://github.com/OpenAPITools/openapi-generator/wiki/FAQ#how-to-test-with-the-latest-master-of-openapi-generator\">tested with the latest master</a> to confirm the issue still exists?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you searched for related issues/PRs?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> What's the actual output vs expected output?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> [Optional] Sponsorship to speed up the bug fix or feature request (<a href=\"https://github.com/OpenAPITools/openapi-generator/issues/6178\" data-hovercard-type=\"issue\" data-hovercard-url=\"/OpenAPITools/openapi-generator/issues/6178/hovercard\">example</a>)</li>\n</ul>\n\n<h5 dir=\"auto\">Description</h5>\n\n<h5 dir=\"auto\">openapi-generator version</h5>\n<p dir=\"auto\">7.1.0. Also reproduced with latest, compiled from <code class=\"notranslate\">master</code> locally.</p>\n<h5 dir=\"auto\">OpenAPI declaration file content or URL</h5>\n<div class=\"highlight highlight-source-yaml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# OAS document that tests for a description generation in array properties\nopenapi: 3.1.0\ninfo:\n  title: array-description\n  version: 0.1.0\n  license:\n    name: MIT\n    identifier: MIT\nservers:\n  - url: http://api.example.xyz/v1\npaths:\n  /repro:\n    get:\n      deprecated: false\n      operationId: repro\n      parameters: []\n      responses:\n        \"200\":\n          description: Repro\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Data\"\ncomponents:\n  schemas:\n    Data:\n      description: Data model\n      properties:\n        name:\n          description: Single string property\n          type: string\n        values:\n          description: String array property\n          type: array\n          items:\n            type: string\n\n      required: []\n      type: object\n\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> OAS document that tests for a description generation in array properties</span>\n<span class=\"pl-ent\">openapi</span>: <span class=\"pl-s\">3.1.0</span>\n<span class=\"pl-ent\">info</span>:\n  <span class=\"pl-ent\">title</span>: <span class=\"pl-s\">array-description</span>\n  <span class=\"pl-ent\">version</span>: <span class=\"pl-s\">0.1.0</span>\n  <span class=\"pl-ent\">license</span>:\n    <span class=\"pl-ent\">name</span>: <span class=\"pl-s\">MIT</span>\n    <span class=\"pl-ent\">identifier</span>: <span class=\"pl-s\">MIT</span>\n<span class=\"pl-ent\">servers</span>:\n  - <span class=\"pl-ent\">url</span>: <span class=\"pl-s\">http://api.example.xyz/v1</span>\n<span class=\"pl-ent\">paths</span>:\n  <span class=\"pl-ent\">/repro</span>:\n    <span class=\"pl-ent\">get</span>:\n      <span class=\"pl-ent\">deprecated</span>: <span class=\"pl-c1\">false</span>\n      <span class=\"pl-ent\">operationId</span>: <span class=\"pl-s\">repro</span>\n      <span class=\"pl-ent\">parameters</span>: <span class=\"pl-s\">[]</span>\n      <span class=\"pl-ent\">responses</span>:\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-ent\">200</span><span class=\"pl-pds\">\"</span></span>:\n          <span class=\"pl-ent\">description</span>: <span class=\"pl-s\">Repro</span>\n          <span class=\"pl-ent\">content</span>:\n            <span class=\"pl-ent\">application/json</span>:\n              <span class=\"pl-ent\">schema</span>:\n                <span class=\"pl-ent\">$ref</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>#/components/schemas/Data<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-ent\">components</span>:\n  <span class=\"pl-ent\">schemas</span>:\n    <span class=\"pl-ent\">Data</span>:\n      <span class=\"pl-ent\">description</span>: <span class=\"pl-s\">Data model</span>\n      <span class=\"pl-ent\">properties</span>:\n        <span class=\"pl-ent\">name</span>:\n          <span class=\"pl-ent\">description</span>: <span class=\"pl-s\">Single string property</span>\n          <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">string</span>\n        <span class=\"pl-ent\">values</span>:\n          <span class=\"pl-ent\">description</span>: <span class=\"pl-s\">String array property</span>\n          <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">array</span>\n          <span class=\"pl-ent\">items</span>:\n            <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">string</span>\n\n      <span class=\"pl-ent\">required</span>: <span class=\"pl-s\">[]</span>\n      <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">object</span>\n</pre></div>\n<h5 dir=\"auto\">Generation Details</h5>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"java -jar modules/openapi-generator-cli/target/openapi-generator-cli.jar generate -g java -i array-description.yaml -o /tmp/java-okhttp/\"><pre class=\"notranslate\"><code class=\"notranslate\">java -jar modules/openapi-generator-cli/target/openapi-generator-cli.jar generate -g java -i array-description.yaml -o /tmp/java-okhttp/\n</code></pre></div>\n<h5 dir=\"auto\">Steps to reproduce</h5>\n<p dir=\"auto\">Run the command above.<br>\nLook at the generated docs/Data.md:</p>\n<div class=\"highlight highlight-text-md notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# Data\n\nData model\n\n## Properties\n\n| Name | Type | Description | Notes |\n|------------ | ------------- | ------------- | -------------|\n|**name** | **String** | Single string property |  [optional] |\n|**values** | **List&lt;String&gt;** |  |  [optional] |\"><pre class=\"notranslate\"><span class=\"pl-mh\"># <span class=\"pl-en\">Data</span></span>\n\nData model\n\n<span class=\"pl-mh\">## <span class=\"pl-en\">Properties</span></span>\n\n<span class=\"pl-ml\">|</span> Name <span class=\"pl-ml\">|</span> Type <span class=\"pl-ml\">|</span> Description <span class=\"pl-ml\">|</span> Notes <span class=\"pl-ml\">|</span>\n<span class=\"pl-ml\">|</span>------------ <span class=\"pl-ml\">|</span> ------------- <span class=\"pl-ml\">|</span> ------------- <span class=\"pl-ml\">|</span> -------------<span class=\"pl-ml\">|</span>\n<span class=\"pl-ml\">|</span><span class=\"pl-s\">**</span>name<span class=\"pl-s\">**</span> <span class=\"pl-ml\">|</span> <span class=\"pl-s\">**</span>String<span class=\"pl-s\">**</span> <span class=\"pl-ml\">|</span> Single string property <span class=\"pl-ml\">|</span>  <span class=\"pl-s\">[</span>optional<span class=\"pl-s\">]</span> <span class=\"pl-ml\">|</span>\n<span class=\"pl-ml\">|</span><span class=\"pl-s\">**</span>values<span class=\"pl-s\">**</span> <span class=\"pl-ml\">|</span> <span class=\"pl-s\">**</span>List<span class=\"pl-c1\">&<span class=\"pl-k\">lt</span>;</span>String<span class=\"pl-c1\">&<span class=\"pl-k\">gt</span>;</span><span class=\"pl-s\">**</span> <span class=\"pl-ml\">|</span>  <span class=\"pl-ml\">|</span>  <span class=\"pl-s\">[</span>optional<span class=\"pl-s\">]</span> <span class=\"pl-ml\">|</span></pre></div>\n<p dir=\"auto\">See how \"description\" is empty for the <code class=\"notranslate\">values</code> property.</p>\n<p dir=\"auto\">When I modify the spec to use the version 3.0.0, and re-run the generator, the description (\"String array property\") correctly shows up in the generated file</p>\n<h5 dir=\"auto\">Related issues/PRs</h5>\n<h5 dir=\"auto\">Suggest a fix</h5>",
  "description_text": "Bug Report Checklist\n\n Have you provided a full/minimal spec to reproduce the issue?\n Have you validated the input using an OpenAPI validator (example)?\n Have you tested with the latest master to confirm the issue still exists?\n Have you searched for related issues/PRs?\n What's the actual output vs expected output?\n [Optional] Sponsorship to speed up the bug fix or feature request (example)\n\nDescription\nopenapi-generator version\n7.1.0. Also reproduced with latest, compiled from master locally.\nOpenAPI declaration file content or URL\n# OAS document that tests for a description generation in array properties\nopenapi: 3.1.0\ninfo:\n  title: array-description\n  version: 0.1.0\n  license:\n    name: MIT\n    identifier: MIT\nservers:\n  - url: http://api.example.xyz/v1\npaths:\n  /repro:\n    get:\n      deprecated: false\n      operationId: repro\n      parameters: []\n      responses:\n        \"200\":\n          description: Repro\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Data\"\ncomponents:\n  schemas:\n    Data:\n      description: Data model\n      properties:\n        name:\n          description: Single string property\n          type: string\n        values:\n          description: String array property\n          type: array\n          items:\n            type: string\n\n      required: []\n      type: object\n\nGeneration Details\njava -jar modules/openapi-generator-cli/target/openapi-generator-cli.jar generate -g java -i array-description.yaml -o /tmp/java-okhttp/\n\nSteps to reproduce\nRun the command above.\nLook at the generated docs/Data.md:\n# Data\n\nData model\n\n## Properties\n\n| Name | Type | Description | Notes |\n|------------ | ------------- | ------------- | -------------|\n|**name** | **String** | Single string property |  [optional] |\n|**values** | **List&lt;String&gt;** |  |  [optional] |\nSee how \"description\" is empty for the values property.\nWhen I modify the spec to use the version 3.0.0, and re-run the generator, the description (\"String array property\") correctly shows up in the generated file\nRelated issues/PRs\nSuggest a fix"
}