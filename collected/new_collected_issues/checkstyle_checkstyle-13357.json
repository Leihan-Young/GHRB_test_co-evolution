{
  "issue_id": 13134,
  "issue_url": "https://github.com/checkstyle/checkstyle/issues/13134",
  "title": "Implement examples macro and xdoc template parser",
  "description": "<p dir=\"auto\">All xdoc examples are being moved to real java tests in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1730847996\" data-permission-text=\"Title is private\" data-url=\"https://github.com/checkstyle/checkstyle/issues/13100\" data-hovercard-type=\"issue\" data-hovercard-url=\"/checkstyle/checkstyle/issues/13100/hovercard\" href=\"https://github.com/checkstyle/checkstyle/issues/13100\">#13100</a></p>\n<p dir=\"auto\">The purpose of this issue is to gather requirements on how this parser should work and then implement it after an agreement is achieved.</p>\n<ul dir=\"auto\">\n<li>There is a proposal at <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1360086999\" data-permission-text=\"Title is private\" data-url=\"https://github.com/checkstyle/checkstyle/issues/12155\" data-hovercard-type=\"issue\" data-hovercard-url=\"/checkstyle/checkstyle/issues/12155/hovercard?comment_id=1573143997&comment_type=issue_comment\" href=\"https://github.com/checkstyle/checkstyle/issues/12155#issuecomment-1573143997\">#12155 (comment)</a> to use real XML configs.</li>\n<li><a href=\"https://github.com/checkstyle/checkstyle/pull/13112#discussion_r1211662594\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/checkstyle/checkstyle/pull/13112/hovercard\"> We should remove \"package\" in HTML version of this snippet.</a></li>\n</ul>\n<hr>\n<p dir=\"auto\">Edit: It was decided to use <a href=\"https://maven.apache.org/doxia/macros/index.html\" rel=\"nofollow\">Doxia Macros</a> for that. Doxia already comes with a built in <a href=\"https://maven.apache.org/doxia/macros/index.html#snippet-macro\" rel=\"nofollow\"><code class=\"notranslate\">SnippetMacro</code></a> that works in a similar way to what we want - use delimiter comments inside the target file. We will just build a similar one that fits our needs. Doxia documentation already explains how to make our own macro - <a href=\"https://maven.apache.org/doxia/developers/macros.html\" rel=\"nofollow\">https://maven.apache.org/doxia/developers/macros.html</a>. Source code of snippet macro - <a href=\"https://github.com/apache/maven-doxia/blob/master/doxia-core/src/main/java/org/apache/maven/doxia/macro/snippet/SnippetMacro.java\">https://github.com/apache/maven-doxia/blob/master/doxia-core/src/main/java/org/apache/maven/doxia/macro/snippet/SnippetMacro.java</a></p>\n<p dir=\"auto\">Since we want to keep the xdoc files in the repository, a custom parser needs to be created to just execute the macros and keep the rest of the xdoc the same. This parser will work very similarly to the default xdoc one - <a href=\"https://github.com/apache/maven-doxia/blob/master/doxia-modules/doxia-module-xdoc/src/main/java/org/apache/maven/doxia/module/xdoc/XdocParser.java\">https://github.com/apache/maven-doxia/blob/master/doxia-modules/doxia-module-xdoc/src/main/java/org/apache/maven/doxia/module/xdoc/XdocParser.java</a><br>\nDoxia documentation on how to build a custom macro - <a href=\"https://maven.apache.org/doxia/developers/modules.html\" rel=\"nofollow\">https://maven.apache.org/doxia/developers/modules.html</a>.</p>",
  "description_text": "All xdoc examples are being moved to real java tests in #13100\nThe purpose of this issue is to gather requirements on how this parser should work and then implement it after an agreement is achieved.\n\nThere is a proposal at #12155 (comment) to use real XML configs.\n We should remove \"package\" in HTML version of this snippet.\n\n\nEdit: It was decided to use Doxia Macros for that. Doxia already comes with a built in SnippetMacro that works in a similar way to what we want - use delimiter comments inside the target file. We will just build a similar one that fits our needs. Doxia documentation already explains how to make our own macro - https://maven.apache.org/doxia/developers/macros.html. Source code of snippet macro - https://github.com/apache/maven-doxia/blob/master/doxia-core/src/main/java/org/apache/maven/doxia/macro/snippet/SnippetMacro.java\nSince we want to keep the xdoc files in the repository, a custom parser needs to be created to just execute the macros and keep the rest of the xdoc the same. This parser will work very similarly to the default xdoc one - https://github.com/apache/maven-doxia/blob/master/doxia-modules/doxia-module-xdoc/src/main/java/org/apache/maven/doxia/module/xdoc/XdocParser.java\nDoxia documentation on how to build a custom macro - https://maven.apache.org/doxia/developers/modules.html."
}