{
  "issue_id": 14344,
  "issue_url": "https://github.com/checkstyle/checkstyle/issues/14344",
  "title": "GenericWhitespace Check ignores exception to the \">\" rule for succeeding whitespaces",
  "description": "<p dir=\"auto\">Detected at <a href=\"https://github.com/checkstyle/checkstyle/pull/14341\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/checkstyle/checkstyle/pull/14341/hovercard\">#14341</a>.<br>\nAffects PR <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2103592852\" data-permission-text=\"Title is private\" data-url=\"https://github.com/checkstyle/checkstyle/issues/14364\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/checkstyle/checkstyle/pull/14364/hovercard\" href=\"https://github.com/checkstyle/checkstyle/pull/14364\">#14364</a></p>\n<p dir=\"auto\">(<a href=\"https://checkstyle.org/checks/whitespace/genericwhitespace.html\" rel=\"nofollow\">Documentation</a>)</p>\n<p dir=\"auto\"><strong>Test.java</strong></p>\n<div class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"import java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n  List a = new ArrayList<> (); // violation expected\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">import</span> <span class=\"pl-s1\">java</span>.<span class=\"pl-s1\">util</span>.<span class=\"pl-s1\">ArrayList</span>;\n<span class=\"pl-k\">import</span> <span class=\"pl-s1\">java</span>.<span class=\"pl-s1\">util</span>.<span class=\"pl-s1\">List</span>;\n\n<span class=\"pl-k\">public</span> <span class=\"pl-k\">class</span> <span class=\"pl-smi\">Test</span> {\n  <span class=\"pl-smi\">List</span> <span class=\"pl-s1\">a</span> = <span class=\"pl-k\">new</span> <span class=\"pl-smi\">ArrayList</span><> (); <span class=\"pl-c\">// violation expected</span>\n}</pre></div>\n<p dir=\"auto\"><strong>config.xml</strong></p>\n<div class=\"highlight highlight-text-xml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n        \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n        \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n<module name=\"Checker\">\n  <module name=\"TreeWalker\">\n    <module name=\"GenericWhitespace\"/>\n  </module>\n</module>\"><pre class=\"notranslate\"><?<span class=\"pl-ent\">xml</span><span class=\"pl-e\"> version</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>1.0<span class=\"pl-pds\">\"</span></span>?>\n<!<span class=\"pl-ent\">DOCTYPE</span> <span class=\"pl-e\">module</span> PUBLIC\n        \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n        \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n<<span class=\"pl-ent\">module</span> <span class=\"pl-e\">name</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Checker<span class=\"pl-pds\">\"</span></span>>\n  <<span class=\"pl-ent\">module</span> <span class=\"pl-e\">name</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>TreeWalker<span class=\"pl-pds\">\"</span></span>>\n    <<span class=\"pl-ent\">module</span> <span class=\"pl-e\">name</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>GenericWhitespace<span class=\"pl-pds\">\"</span></span>/>\n  </<span class=\"pl-ent\">module</span>>\n</<span class=\"pl-ent\">module</span>></pre></div>\n<p dir=\"auto\"><strong>Actual:</strong></p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"java -jar checkstyle-10.12.7-all.jar -c config.xml Test.java\nStarting audit...\nAudit done.\"><pre class=\"notranslate\"><code class=\"notranslate\">java -jar checkstyle-10.12.7-all.jar -c config.xml Test.java\nStarting audit...\nAudit done.\n</code></pre></div>\n<p dir=\"auto\"><strong>Expected:</strong> violation on line 5.<br>\n<code class=\"notranslate\">Test.java:5:26: '>' is followed by whitespace. [GenericWhitespace]</code></p>\n<h3 dir=\"auto\">Explanation:</h3>\n<ul dir=\"auto\">\n<li>As per the documentation, right angle bracket (<code class=\"notranslate\">></code>) should not be followed by whitespace for diamond operators and when preceding method name or constructor.</li>\n<li>In <code class=\"notranslate\">List a = new ArrayList<> ();</code> the right angle bracket (<code class=\"notranslate\">></code>) precedes the constructor, and is also part of the diamond operator (<code class=\"notranslate\"><></code>), hence shouldn't be followed by the whitespace.</li>\n<li>The exact example is provided provided in the <a href=\"https://checkstyle.org/checks/whitespace/genericwhitespace.html#Example2-code\" rel=\"nofollow\">documentation</a>, showcasing that it is incorrect style and should throw a violation, but this is ignored by the Check. (Also evident in the <a href=\"https://github.com/checkstyle/checkstyle/pull/14341#issuecomment-1907645027\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/checkstyle/checkstyle/pull/14341/hovercard\">referenced PR</a>)</li>\n</ul>",
  "description_text": "Detected at #14341.\nAffects PR #14364\n(Documentation)\nTest.java\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n  List a = new ArrayList<> (); // violation expected\n}\nconfig.xml\n\n\n\n\n\n\n\">xml version=\"1.0\"?>\nDOCTYPE module PUBLIC\n        \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n        \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n<module name=\"Checker\">\n  <module name=\"TreeWalker\">\n    <module name=\"GenericWhitespace\"/>\n  module>\nmodule>\nActual:\njava -jar checkstyle-10.12.7-all.jar -c config.xml Test.java\nStarting audit...\nAudit done.\n\nExpected: violation on line 5.\nTest.java:5:26: '>' is followed by whitespace. [GenericWhitespace]\nExplanation:\n\nAs per the documentation, right angle bracket (>) should not be followed by whitespace for diamond operators and when preceding method name or constructor.\nIn List a = new ArrayList<> (); the right angle bracket (>) precedes the constructor, and is also part of the diamond operator (<>), hence shouldn't be followed by the whitespace.\nThe exact example is provided provided in the documentation, showcasing that it is incorrect style and should throw a violation, but this is ignored by the Check. (Also evident in the referenced PR)\n"
}