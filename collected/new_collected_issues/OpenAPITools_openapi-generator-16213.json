{
  "issue_id": 16212,
  "issue_url": "https://github.com/OpenAPITools/openapi-generator/issues/16212",
  "title": "[BUG] [JAVA] GSON client does not accept null in JSON for an optional array",
  "description": "<h4 dir=\"auto\">Bug Report Checklist</h4>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you provided a full/minimal spec to reproduce the issue?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you validated the input using an OpenAPI validator (<a href=\"https://apidevtools.org/swagger-parser/online/\" rel=\"nofollow\">example</a>)?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you <a href=\"https://github.com/OpenAPITools/openapi-generator/wiki/FAQ#how-to-test-with-the-latest-master-of-openapi-generator\">tested with the latest master</a> to confirm the issue still exists?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you searched for related issues/PRs?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> What's the actual output vs expected output?<br>\nAn exception is thrown when the server does return a null for an optional array</li>\n</ul>\n\n<h5 dir=\"auto\">Description</h5>\n<p dir=\"auto\">The Java GSON client does currently not accept a null for an optional array. Sadly, my server generates nulls instead of omitting the item. The client should accept it instead of throwing an exception</p>\n\n<h5 dir=\"auto\">openapi-generator version</h5>\n\n<p dir=\"auto\">master</p>\n<h5 dir=\"auto\">OpenAPI declaration file content or url</h5>\n<div class=\"highlight highlight-source-yaml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"openapi: 3.0.1\ninfo:\n  title: Test API\n  description: Test API\n  version: '0.1'\npaths:\n  /api/jobs:\n    get:\n      summary: Gets a job\n      operationId: getsJob\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/Test'\ncomponents:\n  schemas:\n    Test:\n      required:\n        - id\n      type: object\n      properties:\n        id:\n          type: integer\n          description: An id\n          format: int64\n          example: 1\"><pre class=\"notranslate\"><span class=\"pl-ent\">openapi</span>: <span class=\"pl-s\">3.0.1</span>\n<span class=\"pl-ent\">info</span>:\n  <span class=\"pl-ent\">title</span>: <span class=\"pl-s\">Test API</span>\n  <span class=\"pl-ent\">description</span>: <span class=\"pl-s\">Test API</span>\n  <span class=\"pl-ent\">version</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>0.1<span class=\"pl-pds\">'</span></span>\n<span class=\"pl-ent\">paths</span>:\n  <span class=\"pl-ent\">/api/jobs</span>:\n    <span class=\"pl-ent\">get</span>:\n      <span class=\"pl-ent\">summary</span>: <span class=\"pl-s\">Gets a job</span>\n      <span class=\"pl-ent\">operationId</span>: <span class=\"pl-s\">getsJob</span>\n      <span class=\"pl-ent\">responses</span>:\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-ent\">200</span><span class=\"pl-pds\">'</span></span>:\n          <span class=\"pl-ent\">description</span>: <span class=\"pl-s\">OK</span>\n          <span class=\"pl-ent\">content</span>:\n            <span class=\"pl-ent\">application/json</span>:\n              <span class=\"pl-ent\">schema</span>:\n                <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">array</span>\n                <span class=\"pl-ent\">items</span>:\n                  <span class=\"pl-ent\">$ref</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>#/components/schemas/Test<span class=\"pl-pds\">'</span></span>\n<span class=\"pl-ent\">components</span>:\n  <span class=\"pl-ent\">schemas</span>:\n    <span class=\"pl-ent\">Test</span>:\n      <span class=\"pl-ent\">required</span>:\n        - <span class=\"pl-s\">id</span>\n      <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">object</span>\n      <span class=\"pl-ent\">properties</span>:\n        <span class=\"pl-ent\">id</span>:\n          <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">integer</span>\n          <span class=\"pl-ent\">description</span>: <span class=\"pl-s\">An id</span>\n          <span class=\"pl-ent\">format</span>: <span class=\"pl-s\">int64</span>\n          <span class=\"pl-ent\">example</span>: <span class=\"pl-c1\">1</span></pre></div>\n<h5 dir=\"auto\">Generation Details</h5>\n\n<h5 dir=\"auto\">Steps to reproduce</h5>\n<p dir=\"auto\">I'm generating the client with</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"<generatorName>java</generatorName>\n<library>okhttp-gson</library>\"><pre class=\"notranslate\"><code class=\"notranslate\"><generatorName>java</generatorName>\n<library>okhttp-gson</library>\n</code></pre></div>\n\n<h5 dir=\"auto\">Related issues/PRs</h5>\n\n<h5 dir=\"auto\">Suggest a fix</h5>\n",
  "description_text": "Bug Report Checklist\n\n Have you provided a full/minimal spec to reproduce the issue?\n Have you validated the input using an OpenAPI validator (example)?\n Have you tested with the latest master to confirm the issue still exists?\n Have you searched for related issues/PRs?\n What's the actual output vs expected output?\nAn exception is thrown when the server does return a null for an optional array\n\nDescription\nThe Java GSON client does currently not accept a null for an optional array. Sadly, my server generates nulls instead of omitting the item. The client should accept it instead of throwing an exception\nopenapi-generator version\nmaster\nOpenAPI declaration file content or url\nopenapi: 3.0.1\ninfo:\n  title: Test API\n  description: Test API\n  version: '0.1'\npaths:\n  /api/jobs:\n    get:\n      summary: Gets a job\n      operationId: getsJob\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/Test'\ncomponents:\n  schemas:\n    Test:\n      required:\n        - id\n      type: object\n      properties:\n        id:\n          type: integer\n          description: An id\n          format: int64\n          example: 1\nGeneration Details\nSteps to reproduce\nI'm generating the client with\njava\nokhttp-gson\n\nRelated issues/PRs\nSuggest a fix\n"
}