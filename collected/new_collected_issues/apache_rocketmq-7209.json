{
  "issue_id": 7208,
  "issue_url": "https://github.com/apache/rocketmq/issues/7208",
  "title": "[Bug] Pop retry topic was not deleted when topic was removed",
  "description": "<h3 dir=\"auto\">Before Creating the Bug Report</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I found a bug, not just asking a question, which should be created in <a href=\"https://github.com/apache/rocketmq/discussions\">GitHub Discussions</a>.</p>\n</li>\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I have searched the <a href=\"https://github.com/apache/rocketmq/issues\">GitHub Issues</a> and <a href=\"https://github.com/apache/rocketmq/discussions\">GitHub Discussions</a>  of this repository and believe that this is not a duplicate.</p>\n</li>\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I have confirmed that this bug belongs to the current repository, not other repositories of RocketMQ.</p>\n</li>\n</ul>\n<h3 dir=\"auto\">Runtime platform environment</h3>\n<p dir=\"auto\">Windows 10</p>\n<h3 dir=\"auto\">RocketMQ version</h3>\n<p dir=\"auto\">branch: develop</p>\n<h3 dir=\"auto\">JDK Version</h3>\n<p dir=\"auto\">JDK8</p>\n<h3 dir=\"auto\">Describe the Bug</h3>\n<p dir=\"auto\">Messages retry in pop mode will create a pop retry topic for this topic and consumer combination.<br>\nWhen the original topic was removed, the pop retry topic of the original topic wasn't deleted.</p>\n<h3 dir=\"auto\">Steps to Reproduce</h3>\n<ol dir=\"auto\">\n<li>create a topic</li>\n<li>produce some messages on this topic</li>\n<li>consume this topic using pop consumer, but not ack, wait for messages to revive</li>\n<li>pop retry topic will be created</li>\n<li>delete the original topic</li>\n</ol>\n<h3 dir=\"auto\">What Did You Expect to See?</h3>\n<p dir=\"auto\">All pop retry topics of this topic will be deleted.</p>\n<h3 dir=\"auto\">What Did You See Instead?</h3>\n<p dir=\"auto\">Pop retry topics aren't deleted.</p>\n<h3 dir=\"auto\">Additional Context</h3>\n<p dir=\"auto\"><em>No response</em></p>",
  "description_text": "Before Creating the Bug Report\n\n\n I found a bug, not just asking a question, which should be created in GitHub Discussions.\n\n\n I have searched the GitHub Issues and GitHub Discussions  of this repository and believe that this is not a duplicate.\n\n\n I have confirmed that this bug belongs to the current repository, not other repositories of RocketMQ.\n\n\nRuntime platform environment\nWindows 10\nRocketMQ version\nbranch: develop\nJDK Version\nJDK8\nDescribe the Bug\nMessages retry in pop mode will create a pop retry topic for this topic and consumer combination.\nWhen the original topic was removed, the pop retry topic of the original topic wasn't deleted.\nSteps to Reproduce\n\ncreate a topic\nproduce some messages on this topic\nconsume this topic using pop consumer, but not ack, wait for messages to revive\npop retry topic will be created\ndelete the original topic\n\nWhat Did You Expect to See?\nAll pop retry topics of this topic will be deleted.\nWhat Did You See Instead?\nPop retry topics aren't deleted.\nAdditional Context\nNo response"
}