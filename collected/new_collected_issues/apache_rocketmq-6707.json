{
  "issue_id": 6706,
  "issue_url": "https://github.com/apache/rocketmq/issues/6706",
  "title": "[Bug] brokerPermission cannot guarantee that messages will not flow in",
  "description": "<h3 dir=\"auto\">Before Creating the Bug Report</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I found a bug, not just asking a question, which should be created in <a href=\"https://github.com/apache/rocketmq/discussions\">GitHub Discussions</a>.</p>\n</li>\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I have searched the <a href=\"https://github.com/apache/rocketmq/issues\">GitHub Issues</a> and <a href=\"https://github.com/apache/rocketmq/discussions\">GitHub Discussions</a>  of this repository and believe that this is not a duplicate.</p>\n</li>\n<li class=\"task-list-item\">\n<p dir=\"auto\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I have confirmed that this bug belongs to the current repository, not other repositories of RocketMQ.</p>\n</li>\n</ul>\n<h3 dir=\"auto\">Runtime platform environment</h3>\n<p dir=\"auto\">CentOS</p>\n<h3 dir=\"auto\">RocketMQ version</h3>\n<p dir=\"auto\">5.1.0</p>\n<h3 dir=\"auto\">JDK Version</h3>\n<p dir=\"auto\"><em>No response</em></p>\n<h3 dir=\"auto\">Describe the Bug</h3>\n<p dir=\"auto\">brokerPermission cannot guarantee that messages will not flow in.<br>\nIf the client has a cache and has not updated it, it will still send a message to the write-forbidden broker.</p>\n<h3 dir=\"auto\">Steps to Reproduce</h3>\n<p dir=\"auto\"><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1646897746\" data-permission-text=\"Title is private\" data-url=\"https://github.com/apache/rocketmq/issues/6509\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/apache/rocketmq/pull/6509/hovercard\" href=\"https://github.com/apache/rocketmq/pull/6509\">#6509</a> \u2018s remaining problem.</p>\n<h3 dir=\"auto\">What Did You Expect to See?</h3>\n<p dir=\"auto\">No message flows in.</p>\n<h3 dir=\"auto\">What Did You See Instead?</h3>\n<p dir=\"auto\">Although the broker is isolated, but clients can still send messages into it.</p>\n<h3 dir=\"auto\">Additional Context</h3>\n<p dir=\"auto\"><em>No response</em></p>",
  "description_text": "Before Creating the Bug Report\n\n\n I found a bug, not just asking a question, which should be created in GitHub Discussions.\n\n\n I have searched the GitHub Issues and GitHub Discussions  of this repository and believe that this is not a duplicate.\n\n\n I have confirmed that this bug belongs to the current repository, not other repositories of RocketMQ.\n\n\nRuntime platform environment\nCentOS\nRocketMQ version\n5.1.0\nJDK Version\nNo response\nDescribe the Bug\nbrokerPermission cannot guarantee that messages will not flow in.\nIf the client has a cache and has not updated it, it will still send a message to the write-forbidden broker.\nSteps to Reproduce\n#6509 \u2018s remaining problem.\nWhat Did You Expect to See?\nNo message flows in.\nWhat Did You See Instead?\nAlthough the broker is isolated, but clients can still send messages into it.\nAdditional Context\nNo response"
}