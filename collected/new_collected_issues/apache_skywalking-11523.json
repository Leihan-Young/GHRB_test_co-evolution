{
  "issue_id": 11487,
  "issue_url": "https://github.com/apache/skywalking/issues/11487",
  "title": "[Bug]  The 'findEndpoint' method 'limit' condition does not work when using Elasticsearch storage",
  "description": "<h3 dir=\"auto\">Search before asking</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I had searched in the <a href=\"https://github.com/apache/skywalking/issues?q=is%3Aissue\">issues</a> and found no similar issues.</li>\n</ul>\n<h3 dir=\"auto\">Apache SkyWalking Component</h3>\n<p dir=\"auto\">OAP server (apache/skywalking)</p>\n<h3 dir=\"auto\">What happened</h3>\n<p dir=\"auto\">The 'Endpoint' page returns more than 20 pieces of data, with the storage policy configured as elasticsearch.</p>\n<p dir=\"auto\"><a href=\"https://github.com/apache/skywalking/blob/19a7fa525d38bf2aaf407c38d70d0d8c75cc3359/oap-server/server-storage-plugin/storage-elasticsearch-plugin/src/main/java/org/apache/skywalking/oap/server/storage/plugin/elasticsearch/query/MetadataQueryEsDAO.java#L278\">MetadataQueryEsDAO.java#L278</a></p>\n<p dir=\"auto\">The 'scroll' query way actually returns all the hit data.</p>\n<h3 dir=\"auto\">What you expected to happen</h3>\n<p dir=\"auto\">The 'limit' condition can work.</p>\n<h3 dir=\"auto\">How to reproduce</h3>\n<p dir=\"auto\">make a 'findEndpoint' query and specify a smaller 'limit'.</p>\n<h3 dir=\"auto\">Anything else</h3>\n<p dir=\"auto\"><em>No response</em></p>\n<h3 dir=\"auto\">Are you willing to submit a pull request to fix on your own?</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Yes I am willing to submit a pull request on my own!</li>\n</ul>\n<h3 dir=\"auto\">Code of Conduct</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I agree to follow this project's <a href=\"https://www.apache.org/foundation/policies/conduct\" rel=\"nofollow\">Code of Conduct</a></li>\n</ul>",
  "description_text": "Search before asking\n\n I had searched in the issues and found no similar issues.\n\nApache SkyWalking Component\nOAP server (apache/skywalking)\nWhat happened\nThe 'Endpoint' page returns more than 20 pieces of data, with the storage policy configured as elasticsearch.\nMetadataQueryEsDAO.java#L278\nThe 'scroll' query way actually returns all the hit data.\nWhat you expected to happen\nThe 'limit' condition can work.\nHow to reproduce\nmake a 'findEndpoint' query and specify a smaller 'limit'.\nAnything else\nNo response\nAre you willing to submit a pull request to fix on your own?\n\n Yes I am willing to submit a pull request on my own!\n\nCode of Conduct\n\n I agree to follow this project's Code of Conduct\n"
}