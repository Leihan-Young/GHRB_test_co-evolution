{
  "issue_id": 10952,
  "issue_url": "https://github.com/alibaba/nacos/issues/10952",
  "title": "There are many retry operations in RpcClient, some of these retry operations are problematic.",
  "description": "\n<p dir=\"auto\"><strong>Describe the bug</strong></p>\n<ul dir=\"auto\">\n<li>There are many retry operations in RpcClient, some of these retry operations are problematic, the code is as follows:<br>\n<div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/alibaba/nacos/blob/837012488904e5df40875283d8a2dac84a085c07/common/src/main/java/com/alibaba/nacos/common/remote/client/RpcClient.java#L708-L751\">nacos/common/src/main/java/com/alibaba/nacos/common/remote/client/RpcClient.java</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 708 to 751\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/alibaba/nacos/commit/837012488904e5df40875283d8a2dac84a085c07\">8370124</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L708\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"708\"></td>\n          <td id=\"LC708\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">public</span> <span class=\"pl-smi\">void</span> <span class=\"pl-en\">asyncRequest</span>(<span class=\"pl-smi\">Request</span> <span class=\"pl-s1\">request</span>, <span class=\"pl-smi\">RequestCallBack</span> <span class=\"pl-s1\">callback</span>) <span class=\"pl-k\">throws</span> <span class=\"pl-smi\">NacosException</span> { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L709\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"709\"></td>\n          <td id=\"LC709\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-smi\">int</span> <span class=\"pl-s1\">retryTimes</span> = <span class=\"pl-c1\">0</span>; </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L710\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"710\"></td>\n          <td id=\"LC710\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">      </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L711\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"711\"></td>\n          <td id=\"LC711\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-smi\">Throwable</span> <span class=\"pl-s1\">exceptionToThrow</span> = <span class=\"pl-c1\">null</span>; </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L712\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"712\"></td>\n          <td id=\"LC712\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-smi\">long</span> <span class=\"pl-s1\">start</span> = <span class=\"pl-smi\">System</span>.<span class=\"pl-en\">currentTimeMillis</span>(); </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L713\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"713\"></td>\n          <td id=\"LC713\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-k\">while</span> (<span class=\"pl-s1\">retryTimes</span> < <span class=\"pl-s1\">rpcClientConfig</span>.<span class=\"pl-en\">retryTimes</span>() </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L714\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"714\"></td>\n          <td id=\"LC714\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">             && <span class=\"pl-smi\">System</span>.<span class=\"pl-en\">currentTimeMillis</span>() < <span class=\"pl-s1\">start</span> + <span class=\"pl-s1\">callback</span>.<span class=\"pl-en\">getTimeout</span>()) { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L715\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"715\"></td>\n          <td id=\"LC715\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">         <span class=\"pl-smi\">boolean</span> <span class=\"pl-s1\">waitReconnect</span> = <span class=\"pl-c1\">false</span>; </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L716\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"716\"></td>\n          <td id=\"LC716\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">         <span class=\"pl-k\">try</span> { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L717\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"717\"></td>\n          <td id=\"LC717\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">             <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">this</span>.<span class=\"pl-s1\">currentConnection</span> == <span class=\"pl-c1\">null</span> || !<span class=\"pl-en\">isRunning</span>()) { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L718\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"718\"></td>\n          <td id=\"LC718\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">                 <span class=\"pl-s1\">waitReconnect</span> = <span class=\"pl-c1\">true</span>; </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L719\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"719\"></td>\n          <td id=\"LC719\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">                 <span class=\"pl-k\">throw</span> <span class=\"pl-k\">new</span> <span class=\"pl-smi\">NacosException</span>(<span class=\"pl-smi\">NacosException</span>.<span class=\"pl-c1\">CLIENT_INVALID_PARAM</span>, <span class=\"pl-s\">\"Client not connected.\"</span>); </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L720\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"720\"></td>\n          <td id=\"LC720\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">             } </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L721\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"721\"></td>\n          <td id=\"LC721\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">             <span class=\"pl-smi\">this</span>.<span class=\"pl-s1\">currentConnection</span>.<span class=\"pl-en\">asyncRequest</span>(<span class=\"pl-s1\">request</span>, <span class=\"pl-s1\">callback</span>); </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L722\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"722\"></td>\n          <td id=\"LC722\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">             <span class=\"pl-k\">return</span>; </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L723\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"723\"></td>\n          <td id=\"LC723\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">         } <span class=\"pl-k\">catch</span> (<span class=\"pl-smi\">Throwable</span> <span class=\"pl-s1\">e</span>) { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L724\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"724\"></td>\n          <td id=\"LC724\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">             <span class=\"pl-k\">if</span> (<span class=\"pl-s1\">waitReconnect</span>) { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L725\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"725\"></td>\n          <td id=\"LC725\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">                 <span class=\"pl-k\">try</span> { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L726\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"726\"></td>\n          <td id=\"LC726\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">                     <span class=\"pl-c\">// wait client to reconnect.</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L727\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"727\"></td>\n          <td id=\"LC727\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">                     <span class=\"pl-smi\">Thread</span>.<span class=\"pl-en\">sleep</span>(<span class=\"pl-smi\">Math</span>.<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">100</span>, <span class=\"pl-s1\">callback</span>.<span class=\"pl-en\">getTimeout</span>() / <span class=\"pl-c1\">3</span>)); </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L728\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"728\"></td>\n          <td id=\"LC728\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">                 } <span class=\"pl-k\">catch</span> (<span class=\"pl-smi\">Exception</span> <span class=\"pl-s1\">exception</span>) { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L729\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"729\"></td>\n          <td id=\"LC729\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">                     <span class=\"pl-c\">// Do nothing.</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L730\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"730\"></td>\n          <td id=\"LC730\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">                 } </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L731\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"731\"></td>\n          <td id=\"LC731\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">             } </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L732\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"732\"></td>\n          <td id=\"LC732\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">             <span class=\"pl-smi\">LoggerUtils</span>.<span class=\"pl-en\">printIfErrorEnabled</span>(<span class=\"pl-c1\">LOGGER</span>, </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L733\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"733\"></td>\n          <td id=\"LC733\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">                     <span class=\"pl-s\">\"[{}] Send request fail, request = {}, retryTimes = {}, errorMessage = {}\"</span>, </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L734\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"734\"></td>\n          <td id=\"LC734\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">                     <span class=\"pl-s1\">rpcClientConfig</span>.<span class=\"pl-en\">name</span>(), <span class=\"pl-s1\">request</span>, <span class=\"pl-s1\">retryTimes</span>, <span class=\"pl-s1\">e</span>.<span class=\"pl-en\">getMessage</span>()); </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L735\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"735\"></td>\n          <td id=\"LC735\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">             <span class=\"pl-s1\">exceptionToThrow</span> = <span class=\"pl-s1\">e</span>; </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L736\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"736\"></td>\n          <td id=\"LC736\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">              </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L737\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"737\"></td>\n          <td id=\"LC737\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">         } </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L738\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"738\"></td>\n          <td id=\"LC738\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">         <span class=\"pl-s1\">retryTimes</span>++; </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L739\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"739\"></td>\n          <td id=\"LC739\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">          </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L740\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"740\"></td>\n          <td id=\"LC740\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     } </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L741\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"741\"></td>\n          <td id=\"LC741\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">      </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L742\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"742\"></td>\n          <td id=\"LC742\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-k\">if</span> (<span class=\"pl-s1\">rpcClientStatus</span>.<span class=\"pl-en\">compareAndSet</span>(<span class=\"pl-smi\">RpcClientStatus</span>.<span class=\"pl-c1\">RUNNING</span>, <span class=\"pl-smi\">RpcClientStatus</span>.<span class=\"pl-c1\">UNHEALTHY</span>)) { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L743\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"743\"></td>\n          <td id=\"LC743\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">         <span class=\"pl-en\">switchServerAsyncOnRequestFail</span>(); </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L744\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"744\"></td>\n          <td id=\"LC744\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     } </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L745\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"745\"></td>\n          <td id=\"LC745\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-k\">if</span> (<span class=\"pl-s1\">exceptionToThrow</span> != <span class=\"pl-c1\">null</span>) { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L746\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"746\"></td>\n          <td id=\"LC746\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">         <span class=\"pl-k\">throw</span> (<span class=\"pl-s1\">exceptionToThrow</span> <span class=\"pl-k\">instanceof</span> <span class=\"pl-smi\">NacosException</span>) ? (<span class=\"pl-smi\">NacosException</span>) <span class=\"pl-s1\">exceptionToThrow</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L747\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"747\"></td>\n          <td id=\"LC747\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">                 : <span class=\"pl-k\">new</span> <span class=\"pl-smi\">NacosException</span>(<span class=\"pl-c1\">SERVER_ERROR</span>, <span class=\"pl-s1\">exceptionToThrow</span>); </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L748\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"748\"></td>\n          <td id=\"LC748\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     } <span class=\"pl-k\">else</span> { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L749\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"749\"></td>\n          <td id=\"LC749\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">         <span class=\"pl-k\">throw</span> <span class=\"pl-k\">new</span> <span class=\"pl-smi\">NacosException</span>(<span class=\"pl-c1\">SERVER_ERROR</span>, <span class=\"pl-s\">\"AsyncRequest fail, unknown error\"</span>); </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L750\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"750\"></td>\n          <td id=\"LC750\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     } </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L751\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"751\"></td>\n          <td id=\"LC751\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> } </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</li>\n</ul>\n<p dir=\"auto\">In an implementation similar to the above, if the number of retries is configured to be 0, then it will not make a request.</p>\n<p dir=\"auto\"><strong>Expected behavior</strong></p>\n<p dir=\"auto\">If the number of retries is set to 0, a request will be sent.</p>\n<p dir=\"auto\"><strong>Actually behavior</strong></p>\n<p dir=\"auto\">if the number of retries is configured to be 0, then it will not make a request.</p>",
  "description_text": "\nDescribe the bug\n\nThere are many retry operations in RpcClient, some of these retry operations are problematic, the code is as follows:\n\n\n\nnacos/common/src/main/java/com/alibaba/nacos/common/remote/client/RpcClient.java\n\n\n        Lines 708 to 751\n      in\n      8370124\n\n\n\n\n\n\n public void asyncRequest(Request request, RequestCallBack callback) throws NacosException { \n\n\n\n int retryTimes = 0; \n\n\n\n \n\n\n\n Throwable exceptionToThrow = null; \n\n\n\n long start = System.currentTimeMillis(); \n\n\n\n while (retryTimes < rpcClientConfig.retryTimes() \n\n\n\n             && System.currentTimeMillis() < start + callback.getTimeout()) { \n\n\n\n boolean waitReconnect = false; \n\n\n\n try { \n\n\n\n if (this.currentConnection == null || !isRunning()) { \n\n\n\n waitReconnect = true; \n\n\n\n throw new NacosException(NacosException.CLIENT_INVALID_PARAM, \"Client not connected.\"); \n\n\n\n             } \n\n\n\n this.currentConnection.asyncRequest(request, callback); \n\n\n\n return; \n\n\n\n         } catch (Throwable e) { \n\n\n\n if (waitReconnect) { \n\n\n\n try { \n\n\n\n // wait client to reconnect. \n\n\n\n Thread.sleep(Math.min(100, callback.getTimeout() / 3)); \n\n\n\n                 } catch (Exception exception) { \n\n\n\n // Do nothing. \n\n\n\n                 } \n\n\n\n             } \n\n\n\n LoggerUtils.printIfErrorEnabled(LOGGER, \n\n\n\n \"[{}] Send request fail, request = {}, retryTimes = {}, errorMessage = {}\", \n\n\n\n rpcClientConfig.name(), request, retryTimes, e.getMessage()); \n\n\n\n exceptionToThrow = e; \n\n\n\n \n\n\n\n         } \n\n\n\n retryTimes++; \n\n\n\n \n\n\n\n     } \n\n\n\n \n\n\n\n if (rpcClientStatus.compareAndSet(RpcClientStatus.RUNNING, RpcClientStatus.UNHEALTHY)) { \n\n\n\n switchServerAsyncOnRequestFail(); \n\n\n\n     } \n\n\n\n if (exceptionToThrow != null) { \n\n\n\n throw (exceptionToThrow instanceof NacosException) ? (NacosException) exceptionToThrow \n\n\n\n                 : new NacosException(SERVER_ERROR, exceptionToThrow); \n\n\n\n     } else { \n\n\n\n throw new NacosException(SERVER_ERROR, \"AsyncRequest fail, unknown error\"); \n\n\n\n     } \n\n\n\n } \n\n\n\n\n\n\nIn an implementation similar to the above, if the number of retries is configured to be 0, then it will not make a request.\nExpected behavior\nIf the number of retries is set to 0, a request will be sent.\nActually behavior\nif the number of retries is configured to be 0, then it will not make a request."
}