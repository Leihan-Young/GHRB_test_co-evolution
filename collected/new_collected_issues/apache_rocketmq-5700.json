{
  "issue_id": 5699,
  "issue_url": "https://github.com/apache/rocketmq/issues/5699",
  "title": "[code issue]duplicate code of UtilAll.isBlank method",
  "description": "<p dir=\"auto\"></p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/apache/rocketmq/blob/ec5d3236f65786be7dde712dda5f5ee152d0dce6/common/src/main/java/org/apache/rocketmq/common/UtilAll.java#L456-L467\">rocketmq/common/src/main/java/org/apache/rocketmq/common/UtilAll.java</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 456 to 467\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/apache/rocketmq/commit/ec5d3236f65786be7dde712dda5f5ee152d0dce6\">ec5d323</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L456\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"456\"></td>\n          <td id=\"LC456\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">public</span> <span class=\"pl-k\">static</span> <span class=\"pl-smi\">boolean</span> <span class=\"pl-en\">isBlank</span>(<span class=\"pl-smi\">String</span> <span class=\"pl-s1\">str</span>) { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L457\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"457\"></td>\n          <td id=\"LC457\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-smi\">int</span> <span class=\"pl-s1\">strLen</span>; </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L458\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"458\"></td>\n          <td id=\"LC458\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-k\">if</span> (<span class=\"pl-s1\">str</span> == <span class=\"pl-c1\">null</span> || (<span class=\"pl-s1\">strLen</span> = <span class=\"pl-s1\">str</span>.<span class=\"pl-en\">length</span>()) == <span class=\"pl-c1\">0</span>) { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L459\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"459\"></td>\n          <td id=\"LC459\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">         <span class=\"pl-k\">return</span> <span class=\"pl-c1\">true</span>; </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L460\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"460\"></td>\n          <td id=\"LC460\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     } </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L461\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"461\"></td>\n          <td id=\"LC461\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-k\">for</span> (<span class=\"pl-smi\">int</span> <span class=\"pl-s1\">i</span> = <span class=\"pl-c1\">0</span>; <span class=\"pl-s1\">i</span> < <span class=\"pl-s1\">strLen</span>; <span class=\"pl-s1\">i</span>++) { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L462\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"462\"></td>\n          <td id=\"LC462\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">         <span class=\"pl-k\">if</span> (!<span class=\"pl-smi\">Character</span>.<span class=\"pl-en\">isWhitespace</span>(<span class=\"pl-s1\">str</span>.<span class=\"pl-en\">charAt</span>(<span class=\"pl-s1\">i</span>))) { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L463\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"463\"></td>\n          <td id=\"LC463\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">             <span class=\"pl-k\">return</span> <span class=\"pl-c1\">false</span>; </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L464\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"464\"></td>\n          <td id=\"LC464\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">         } </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L465\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"465\"></td>\n          <td id=\"LC465\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     } </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L466\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"466\"></td>\n          <td id=\"LC466\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-k\">return</span> <span class=\"pl-c1\">true</span>; </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L467\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"467\"></td>\n          <td id=\"LC467\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> } </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">there are also two other places has the same definition.<br>\n<a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/105986/207804246-e4a85931-eb43-4dc4-8ba9-ef4a75ec1307.png\"><img src=\"https://user-images.githubusercontent.com/105986/207804246-e4a85931-eb43-4dc4-8ba9-ef4a75ec1307.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">recommend to replace isBlank with apachecommon StringUtils.isBlank ,the implementation is the same.</p>",
  "description_text": "\n\n\nrocketmq/common/src/main/java/org/apache/rocketmq/common/UtilAll.java\n\n\n        Lines 456 to 467\n      in\n      ec5d323\n\n\n\n\n\n\n public static boolean isBlank(String str) { \n\n\n\n int strLen; \n\n\n\n if (str == null || (strLen = str.length()) == 0) { \n\n\n\n return true; \n\n\n\n     } \n\n\n\n for (int i = 0; i < strLen; i++) { \n\n\n\n if (!Character.isWhitespace(str.charAt(i))) { \n\n\n\n return false; \n\n\n\n         } \n\n\n\n     } \n\n\n\n return true; \n\n\n\n } \n\n\n\n\n\nthere are also two other places has the same definition.\n\nrecommend to replace isBlank with apachecommon StringUtils.isBlank ,the implementation is the same."
}