{
  "issue_id": 11230,
  "issue_url": "https://github.com/checkstyle/checkstyle/issues/11230",
  "title": "FallThrough check false positive with labelled break",
  "description": "<p dir=\"auto\">I have read check documentation: <a href=\"https://checkstyle.sourceforge.io/config_coding.html#FallThrough\" rel=\"nofollow\">https://checkstyle.sourceforge.io/config_coding.html#FallThrough</a><br>\nI have downloaded the latest checkstyle from: <a href=\"https://checkstyle.org/cmdline.html#Download_and_Run\" rel=\"nofollow\">https://checkstyle.org/cmdline.html#Download_and_Run</a><br>\nI have executed the cli and showed it below, as cli describes the problem better than 1,000 words</p>\n<div class=\"highlight highlight-source-batchfile notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"> javac Test.java\n(success)\n\n> type config.xml\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n        \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n        \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n<module name=\"Checker\">\n  <module name=\"TreeWalker\">\n    <module name=\"FallThrough\">\n    </module>\n  </module>\n</module>\n\n> type Test.java\npublic class Test {\n    public int test(int a, int b) {\n        top: switch (a) {\n            case 1:\n                switch (b) {\n                    case 10:\n                        break top;\n                    default:\n                        return 11;\n                }\n            case 2: // line 11\n                return 2;\n        }\n        return -1;\n    }\n}\n\n> java -jar checkstyle-0.2.1-all.jar -c config.xml Test.java\nStarting audit...\n[ERROR] Test.java:11:13: Fall through from previous branch of the switch statement. [FallThrough]\nAudit done.\nCheckstyle ends with 1 errors.\"><pre class=\"notranslate\"><span class=\"pl-k\">></span> javac Test.java\n(success)\n\n<span class=\"pl-k\">></span> <span class=\"pl-k\">type</span> config.xml\n<span class=\"pl-k\"><</span>?xml version=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>1.0<span class=\"pl-pds\">\"</span></span>?<span class=\"pl-k\">></span>\n<span class=\"pl-k\"><</span>!DOCTYPE module PUBLIC\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-//Checkstyle//DTD Checkstyle Configuration 1.3//EN<span class=\"pl-pds\">\"</span></span>\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https://checkstyle.org/dtds/configuration_1_3.dtd<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">></span>\n<span class=\"pl-k\"><</span>module name=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Checker<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">></span>\n  <span class=\"pl-k\"><</span>module name=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>TreeWalker<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">></span>\n    <span class=\"pl-k\"><</span>module name=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>FallThrough<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">></span>\n    <span class=\"pl-k\"><</span>/module<span class=\"pl-k\">></span>\n  <span class=\"pl-k\"><</span>/module<span class=\"pl-k\">></span>\n<span class=\"pl-k\"><</span>/module<span class=\"pl-k\">></span>\n\n<span class=\"pl-k\">></span> <span class=\"pl-k\">type</span> Test.java\npublic class Test {\n    public int test(int a, int b) {\n        top: switch (a) {\n            case 1:\n                switch (b) {\n                    case 10:\n                        break top;\n                    default:\n                        return 11;\n                }\n            case 2: // line <span class=\"pl-c1\">11</span>\n                return 2;\n        }\n        return -1;\n    }\n}\n\n<span class=\"pl-k\">></span> java -jar checkstyle-0.2.1-all.jar -c config.xml Test.java\nStarting audit...\n[ERROR] Test.java:11:13: Fall through from previous branch of the switch statement. [FallThrough]\nAudit done.\nCheckstyle ends with <span class=\"pl-c1\">1</span> errors.</pre></div>\n<hr>\n<p dir=\"auto\">Expected result is no errors.  This code never falls through from case 1 to case 2.  The problem seems to only happen with a labelled break.  If I use <code class=\"notranslate\">return 11</code> instead of <code class=\"notranslate\">break top</code> then checkstyle does not find a problem.</p>",
  "description_text": "I have read check documentation: https://checkstyle.sourceforge.io/config_coding.html#FallThrough\nI have downloaded the latest checkstyle from: https://checkstyle.org/cmdline.html#Download_and_Run\nI have executed the cli and showed it below, as cli describes the problem better than 1,000 words\n\n\n\n\n\n\n\n\n\n> type Test.java\npublic class Test {\n    public int test(int a, int b) {\n        top: switch (a) {\n            case 1:\n                switch (b) {\n                    case 10:\n                        break top;\n                    default:\n                        return 11;\n                }\n            case 2: // line 11\n                return 2;\n        }\n        return -1;\n    }\n}\n\n> java -jar checkstyle-0.2.1-all.jar -c config.xml Test.java\nStarting audit...\n[ERROR] Test.java:11:13: Fall through from previous branch of the switch statement. [FallThrough]\nAudit done.\nCheckstyle ends with 1 errors.\">> javac Test.java\n(success)\n\n> type config.xml\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n        \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n        \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n<module name=\"Checker\">\n  <module name=\"TreeWalker\">\n    <module name=\"FallThrough\">\n    </module>\n  </module>\n</module>\n\n> type Test.java\npublic class Test {\n    public int test(int a, int b) {\n        top: switch (a) {\n            case 1:\n                switch (b) {\n                    case 10:\n                        break top;\n                    default:\n                        return 11;\n                }\n            case 2: // line 11\n                return 2;\n        }\n        return -1;\n    }\n}\n\n> java -jar checkstyle-0.2.1-all.jar -c config.xml Test.java\nStarting audit...\n[ERROR] Test.java:11:13: Fall through from previous branch of the switch statement. [FallThrough]\nAudit done.\nCheckstyle ends with 1 errors.\n\nExpected result is no errors.  This code never falls through from case 1 to case 2.  The problem seems to only happen with a labelled break.  If I use return 11 instead of break top then checkstyle does not find a problem."
}