{
  "issue_id": 17172,
  "issue_url": "https://github.com/OpenAPITools/openapi-generator/issues/17172",
  "title": "[BUG] Generator breaks on empty properties fields in components.",
  "description": "<h4 dir=\"auto\">Bug Report Checklist</h4>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you provided a full/minimal spec to reproduce the issue?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you validated the input using an OpenAPI validator (<a href=\"https://apidevtools.org/swagger-parser/online/\" rel=\"nofollow\">example</a>)?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you <a href=\"https://github.com/OpenAPITools/openapi-generator/wiki/FAQ#how-to-test-with-the-latest-master-of-openapi-generator\">tested with the latest master</a> to confirm the issue still exists?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you searched for related issues/PRs?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> What's the actual output vs expected output?</li>\n</ul>\n<h5 dir=\"auto\">Description</h5>\n<p dir=\"auto\">Generator breaks on empty properties fields in components.</p>\n<h5 dir=\"auto\">openapi-generator version</h5>\n<p dir=\"auto\">7.2.0-SNAPSHOT<br>\ncommit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/OpenAPITools/openapi-generator/commit/0d2a01611c8350b596a2b883964da2589e7baa93/hovercard\" href=\"https://github.com/OpenAPITools/openapi-generator/commit/0d2a01611c8350b596a2b883964da2589e7baa93\"><tt>0d2a016</tt></a></p>\n<h5 dir=\"auto\">OpenAPI declaration file content or url</h5>\n<p dir=\"auto\">The <a href=\"https://github.com/discord/discord-api-spec/blob/main/specs/openapi.json\">Discord API</a> contains multiple empty properties which break in this tool but are valid. I've pushed up a <a href=\"https://raw.githubusercontent.com/davegarred/openapi-generator/test_empty_property/openapi.json\" rel=\"nofollow\">simpler version taken</a> taken from that.</p>\n<h5 dir=\"auto\">Generation Details</h5>\n<p dir=\"auto\">Attempt to generate a client from a spec that includes a schema with property that is empty.<br>\nE.g.,</p>\n<div class=\"highlight highlight-source-json notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"\"components\": {\n  \"schemas\": {\n    \"GithubWebhook\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"pull_request\": {}\n      }\n    }\n  }\n}\"><pre class=\"notranslate\"><span class=\"pl-ent\">\"components\"</span>: {\n  <span class=\"pl-ent\">\"schemas\"</span>: {\n    <span class=\"pl-ent\">\"GithubWebhook\"</span>: {\n      <span class=\"pl-ent\">\"type\"</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>object<span class=\"pl-pds\">\"</span></span>,\n      <span class=\"pl-ent\">\"properties\"</span>: {\n        <span class=\"pl-ent\">\"pull_request\"</span>: {}\n      }\n    }\n  }\n}</pre></div>\n<p dir=\"auto\">A <code class=\"notranslate\">NullPointerException</code> is produced.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Exception: null\n\tat org.openapitools.codegen.DefaultGenerator.processOperation(DefaultGenerator.java:1269)\n\tat org.openapitools.codegen.DefaultGenerator.processPaths(DefaultGenerator.java:1163)\n\tat org.openapitools.codegen.DefaultGenerator.generateApis(DefaultGenerator.java:609)\n\tat org.openapitools.codegen.DefaultGenerator.generate(DefaultGenerator.java:994)\n\tat org.openapitools.codegen.cmd.Generate.execute(Generate.java:519)\n\tat org.openapitools.codegen.cmd.OpenApiGeneratorCommand.run(OpenApiGeneratorCommand.java:32)\n\tat org.openapitools.codegen.OpenAPIGenerator.main(OpenAPIGenerator.java:66)\nCaused by: java.lang.NullPointerException\n\tat org.openapitools.codegen.examples.ExampleGenerator.resolvePropertyToExample(ExampleGenerator.java:228)\n\tat org.openapitools.codegen.examples.ExampleGenerator.resolveModelToExample(ExampleGenerator.java:352)\n\tat org.openapitools.codegen.examples.ExampleGenerator.resolvePropertyToExample(ExampleGenerator.java:311)\n\tat org.openapitools.codegen.examples.ExampleGenerator.resolveModelToExample(ExampleGenerator.java:352)\n\tat org.openapitools.codegen.examples.ExampleGenerator.generate(ExampleGenerator.java:159)\n\tat org.openapitools.codegen.DefaultCodegen.fromOperation(DefaultCodegen.java:4673)\n\tat org.openapitools.codegen.DefaultGenerator.processOperation(DefaultGenerator.java:1237)\n\t... 6 more\"><pre class=\"notranslate\"><code class=\"notranslate\">Exception: null\n\tat org.openapitools.codegen.DefaultGenerator.processOperation(DefaultGenerator.java:1269)\n\tat org.openapitools.codegen.DefaultGenerator.processPaths(DefaultGenerator.java:1163)\n\tat org.openapitools.codegen.DefaultGenerator.generateApis(DefaultGenerator.java:609)\n\tat org.openapitools.codegen.DefaultGenerator.generate(DefaultGenerator.java:994)\n\tat org.openapitools.codegen.cmd.Generate.execute(Generate.java:519)\n\tat org.openapitools.codegen.cmd.OpenApiGeneratorCommand.run(OpenApiGeneratorCommand.java:32)\n\tat org.openapitools.codegen.OpenAPIGenerator.main(OpenAPIGenerator.java:66)\nCaused by: java.lang.NullPointerException\n\tat org.openapitools.codegen.examples.ExampleGenerator.resolvePropertyToExample(ExampleGenerator.java:228)\n\tat org.openapitools.codegen.examples.ExampleGenerator.resolveModelToExample(ExampleGenerator.java:352)\n\tat org.openapitools.codegen.examples.ExampleGenerator.resolvePropertyToExample(ExampleGenerator.java:311)\n\tat org.openapitools.codegen.examples.ExampleGenerator.resolveModelToExample(ExampleGenerator.java:352)\n\tat org.openapitools.codegen.examples.ExampleGenerator.generate(ExampleGenerator.java:159)\n\tat org.openapitools.codegen.DefaultCodegen.fromOperation(DefaultCodegen.java:4673)\n\tat org.openapitools.codegen.DefaultGenerator.processOperation(DefaultGenerator.java:1237)\n\t... 6 more\n</code></pre></div>\n<h5 dir=\"auto\">Steps to reproduce</h5>\n<p dir=\"auto\">Generate using the cli tool (any language).</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"docker run --rm -v ./:/local \\\n  openapitools/openapi-generator-cli \\\n  generate \\\n  -g rust \\\n  -o /local/output_directory \\\n  -i /local/openapi.json\"><pre class=\"notranslate\"><code class=\"notranslate\">docker run --rm -v ./:/local \\\n  openapitools/openapi-generator-cli \\\n  generate \\\n  -g rust \\\n  -o /local/output_directory \\\n  -i /local/openapi.json\n</code></pre></div>\n<h5 dir=\"auto\">Related issues/PRs</h5>\n<p dir=\"auto\">None found yet.</p>\n<h5 dir=\"auto\">Suggest a fix</h5>\n<p dir=\"auto\"><em>Edit: <a href=\"https://github.com/OpenAPITools/openapi-generator/pull/17173/files\">https://github.com/OpenAPITools/openapi-generator/pull/17173/files</a></em></p>",
  "description_text": "Bug Report Checklist\n\n Have you provided a full/minimal spec to reproduce the issue?\n Have you validated the input using an OpenAPI validator (example)?\n Have you tested with the latest master to confirm the issue still exists?\n Have you searched for related issues/PRs?\n What's the actual output vs expected output?\n\nDescription\nGenerator breaks on empty properties fields in components.\nopenapi-generator version\n7.2.0-SNAPSHOT\ncommit: 0d2a016\nOpenAPI declaration file content or url\nThe Discord API contains multiple empty properties which break in this tool but are valid. I've pushed up a simpler version taken taken from that.\nGeneration Details\nAttempt to generate a client from a spec that includes a schema with property that is empty.\nE.g.,\n\"components\": {\n  \"schemas\": {\n    \"GithubWebhook\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"pull_request\": {}\n      }\n    }\n  }\n}\nA NullPointerException is produced.\nException: null\n\tat org.openapitools.codegen.DefaultGenerator.processOperation(DefaultGenerator.java:1269)\n\tat org.openapitools.codegen.DefaultGenerator.processPaths(DefaultGenerator.java:1163)\n\tat org.openapitools.codegen.DefaultGenerator.generateApis(DefaultGenerator.java:609)\n\tat org.openapitools.codegen.DefaultGenerator.generate(DefaultGenerator.java:994)\n\tat org.openapitools.codegen.cmd.Generate.execute(Generate.java:519)\n\tat org.openapitools.codegen.cmd.OpenApiGeneratorCommand.run(OpenApiGeneratorCommand.java:32)\n\tat org.openapitools.codegen.OpenAPIGenerator.main(OpenAPIGenerator.java:66)\nCaused by: java.lang.NullPointerException\n\tat org.openapitools.codegen.examples.ExampleGenerator.resolvePropertyToExample(ExampleGenerator.java:228)\n\tat org.openapitools.codegen.examples.ExampleGenerator.resolveModelToExample(ExampleGenerator.java:352)\n\tat org.openapitools.codegen.examples.ExampleGenerator.resolvePropertyToExample(ExampleGenerator.java:311)\n\tat org.openapitools.codegen.examples.ExampleGenerator.resolveModelToExample(ExampleGenerator.java:352)\n\tat org.openapitools.codegen.examples.ExampleGenerator.generate(ExampleGenerator.java:159)\n\tat org.openapitools.codegen.DefaultCodegen.fromOperation(DefaultCodegen.java:4673)\n\tat org.openapitools.codegen.DefaultGenerator.processOperation(DefaultGenerator.java:1237)\n\t... 6 more\n\nSteps to reproduce\nGenerate using the cli tool (any language).\ndocker run --rm -v ./:/local \\\n  openapitools/openapi-generator-cli \\\n  generate \\\n  -g rust \\\n  -o /local/output_directory \\\n  -i /local/openapi.json\n\nRelated issues/PRs\nNone found yet.\nSuggest a fix\nEdit: https://github.com/OpenAPITools/openapi-generator/pull/17173/files"
}