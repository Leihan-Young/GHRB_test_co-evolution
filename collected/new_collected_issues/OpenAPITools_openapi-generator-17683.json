{
  "issue_id": 17676,
  "issue_url": "https://github.com/OpenAPITools/openapi-generator/issues/17676",
  "title": "[BUG][KOTLIN+JAVA+probably more] Model generation from allOf is broken (at least for Java/Kotlin) since version 7.2.0",
  "description": "<h4 dir=\"auto\">Bug Report Checklist</h4>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you provided a full/minimal spec to reproduce the issue?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you validated the input using an OpenAPI validator (<a href=\"https://apidevtools.org/swagger-parser/online/\" rel=\"nofollow\">example</a>)?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you <a href=\"https://github.com/OpenAPITools/openapi-generator/wiki/FAQ#how-to-test-with-the-latest-master-of-openapi-generator\">tested with the latest master</a> to confirm the issue still exists? (used with maven not CLI)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Have you searched for related issues/PRs?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> What's the actual output vs expected output?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> [Optional] Sponsorship to speed up the bug fix or feature request (<a href=\"https://github.com/OpenAPITools/openapi-generator/issues/6178\" data-hovercard-type=\"issue\" data-hovercard-url=\"/OpenAPITools/openapi-generator/issues/6178/hovercard\">example</a>)</li>\n</ul>\n<h5 dir=\"auto\">Description</h5>\n<p dir=\"auto\">When OpenApi specification contains 'allOf' combined with multiple '$ref' generation is broken. Please see example bellow:</p>\n<h5 dir=\"auto\">openapi-generator version</h5>\n<p dir=\"auto\">7.2.0</p>\n<h5 dir=\"auto\">OpenAPI declaration file content or url</h5>\n<div class=\"highlight highlight-source-yaml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"openapi: 3.0.1\ninfo:\n  title: aaa\n  version: 1.0.0\n  contact:\n    name: \"aaa\"\n    url: \"https://aaa.com\"\n    email: \"aaaa@gmail.com\"\n  description: \"aaa\"\n\n\nservers:\n  - url: http://localhost:8080/\n    description: Local development\n\ntags:\n  - name: my_tag\npaths:\n\n  /some/get:\n    get:\n      tags:\n        - my_tag\n      summary: aa\n      description: aa\n      operationId: aa\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/MyResponse'\n      security:\n        - default: []\n\ncomponents:\n  schemas:\n    MyResponse:\n      type: object\n      allOf:\n        - $ref: '#/components/schemas/MyResponseBase'\n        - type: object\n          properties:\n            code:\n              type: string\n            status:\n              allOf:\n                - $ref: '#/components/schemas/StatusEnum'\n            anotherParam:\n              allOf:\n                - $ref: '#/components/schemas/AnotherParam'\n    MyResponseBase:\n      type: object\n      properties:\n        whatever:\n          type: string\n    AnotherParam:\n      type: object\n      properties:\n        whatever:\n          type: string\n    StatusEnum:\n      type: string\n      enum:\n        - A\n        - B\n        - C\n  securitySchemes:\n    default:\n      type: http\n      scheme: basic\"><pre class=\"notranslate\"><span class=\"pl-ent\">openapi</span>: <span class=\"pl-s\">3.0.1</span>\n<span class=\"pl-ent\">info</span>:\n  <span class=\"pl-ent\">title</span>: <span class=\"pl-s\">aaa</span>\n  <span class=\"pl-ent\">version</span>: <span class=\"pl-s\">1.0.0</span>\n  <span class=\"pl-ent\">contact</span>:\n    <span class=\"pl-ent\">name</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>aaa<span class=\"pl-pds\">\"</span></span>\n    <span class=\"pl-ent\">url</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https://aaa.com<span class=\"pl-pds\">\"</span></span>\n    <span class=\"pl-ent\">email</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>aaaa@gmail.com<span class=\"pl-pds\">\"</span></span>\n  <span class=\"pl-ent\">description</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>aaa<span class=\"pl-pds\">\"</span></span>\n\n\n<span class=\"pl-ent\">servers</span>:\n  - <span class=\"pl-ent\">url</span>: <span class=\"pl-s\">http://localhost:8080/</span>\n    <span class=\"pl-ent\">description</span>: <span class=\"pl-s\">Local development</span>\n\n<span class=\"pl-ent\">tags</span>:\n  - <span class=\"pl-ent\">name</span>: <span class=\"pl-s\">my_tag</span>\n<span class=\"pl-ent\">paths</span>:\n\n  <span class=\"pl-ent\">/some/get</span>:\n    <span class=\"pl-ent\">get</span>:\n      <span class=\"pl-ent\">tags</span>:\n        - <span class=\"pl-s\">my_tag</span>\n      <span class=\"pl-ent\">summary</span>: <span class=\"pl-s\">aa</span>\n      <span class=\"pl-ent\">description</span>: <span class=\"pl-s\">aa</span>\n      <span class=\"pl-ent\">operationId</span>: <span class=\"pl-s\">aa</span>\n      <span class=\"pl-ent\">responses</span>:\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-ent\">200</span><span class=\"pl-pds\">'</span></span>:\n          <span class=\"pl-ent\">description</span>: <span class=\"pl-s\">OK</span>\n          <span class=\"pl-ent\">content</span>:\n            <span class=\"pl-ent\">application/json</span>:\n              <span class=\"pl-ent\">schema</span>:\n                <span class=\"pl-ent\">$ref</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>#/components/schemas/MyResponse<span class=\"pl-pds\">'</span></span>\n      <span class=\"pl-ent\">security</span>:\n        - <span class=\"pl-ent\">default</span>: <span class=\"pl-s\">[]</span>\n\n<span class=\"pl-ent\">components</span>:\n  <span class=\"pl-ent\">schemas</span>:\n    <span class=\"pl-ent\">MyResponse</span>:\n      <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">object</span>\n      <span class=\"pl-ent\">allOf</span>:\n        - <span class=\"pl-ent\">$ref</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>#/components/schemas/MyResponseBase<span class=\"pl-pds\">'</span></span>\n        - <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">object</span>\n          <span class=\"pl-ent\">properties</span>:\n            <span class=\"pl-ent\">code</span>:\n              <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">string</span>\n            <span class=\"pl-ent\">status</span>:\n              <span class=\"pl-ent\">allOf</span>:\n                - <span class=\"pl-ent\">$ref</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>#/components/schemas/StatusEnum<span class=\"pl-pds\">'</span></span>\n            <span class=\"pl-ent\">anotherParam</span>:\n              <span class=\"pl-ent\">allOf</span>:\n                - <span class=\"pl-ent\">$ref</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>#/components/schemas/AnotherParam<span class=\"pl-pds\">'</span></span>\n    <span class=\"pl-ent\">MyResponseBase</span>:\n      <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">object</span>\n      <span class=\"pl-ent\">properties</span>:\n        <span class=\"pl-ent\">whatever</span>:\n          <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">string</span>\n    <span class=\"pl-ent\">AnotherParam</span>:\n      <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">object</span>\n      <span class=\"pl-ent\">properties</span>:\n        <span class=\"pl-ent\">whatever</span>:\n          <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">string</span>\n    <span class=\"pl-ent\">StatusEnum</span>:\n      <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">string</span>\n      <span class=\"pl-ent\">enum</span>:\n        - <span class=\"pl-s\">A</span>\n        - <span class=\"pl-s\">B</span>\n        - <span class=\"pl-s\">C</span>\n  <span class=\"pl-ent\">securitySchemes</span>:\n    <span class=\"pl-ent\">default</span>:\n      <span class=\"pl-ent\">type</span>: <span class=\"pl-s\">http</span>\n      <span class=\"pl-ent\">scheme</span>: <span class=\"pl-s\">basic</span></pre></div>\n<h5 dir=\"auto\">Generation Details</h5>\n<p dir=\"auto\">Sorry maven for me, not a cli :(</p>\n<div class=\"highlight highlight-text-xml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"<plugin>\n                    <groupId>org.openapitools</groupId>\n                    <artifactId>openapi-generator-maven-plugin</artifactId>\n                    <version>7.2.0<version>\n                    <executions>\n\n                        <execution>\n                            <id>generate-client</id>\n                            <goals><goal>generate</goal></goals>\n                            <phase>process-resources</phase>\n                            <configuration>\n                                <inputSpec>${specs.dir}${spec.yaml.file}</inputSpec>\n                                <generatorName>kotlin</generatorName>\n                                <configOptions>\n                                    <library>jvm-spring-webclient</library>\n                                    <dateLibrary>java8</dateLibrary>\n                                    <modelMutable>false</modelMutable>\n                                    <serializableModel>false</serializableModel>\n                                    <serializationLibrary>jackson</serializationLibrary>\n                                    <enumPropertyNaming>original</enumPropertyNaming>\n                                    <useSpringBoot3>false</useSpringBoot3>\n                                </configOptions>\n                                <generateApis>true</generateApis>\n                                <generateApiDocumentation>false</generateApiDocumentation>\n                                <generateApiTests>false</generateApiTests>\n                                <generateSupportingFiles>true</generateSupportingFiles>\n                                <generateModelTests>false</generateModelTests>\n                                <generateModelDocumentation>false</generateModelDocumentation>\n                            </configuration>\n                        </execution>\n                    </executions>\n </plugin>\"><pre class=\"notranslate\"><<span class=\"pl-ent\">plugin</span>>\n                    <<span class=\"pl-ent\">groupId</span>>org.openapitools</<span class=\"pl-ent\">groupId</span>>\n                    <<span class=\"pl-ent\">artifactId</span>>openapi-generator-maven-plugin</<span class=\"pl-ent\">artifactId</span>>\n                    <<span class=\"pl-ent\">version</span>>7.2.0<<span class=\"pl-ent\">version</span>>\n                    <<span class=\"pl-ent\">executions</span>>\n\n                        <<span class=\"pl-ent\">execution</span>>\n                            <<span class=\"pl-ent\">id</span>>generate-client</<span class=\"pl-ent\">id</span>>\n                            <<span class=\"pl-ent\">goals</span>><<span class=\"pl-ent\">goal</span>>generate</<span class=\"pl-ent\">goal</span>></<span class=\"pl-ent\">goals</span>>\n                            <<span class=\"pl-ent\">phase</span>>process-resources</<span class=\"pl-ent\">phase</span>>\n                            <<span class=\"pl-ent\">configuration</span>>\n                                <<span class=\"pl-ent\">inputSpec</span>>${specs.dir}${spec.yaml.file}</<span class=\"pl-ent\">inputSpec</span>>\n                                <<span class=\"pl-ent\">generatorName</span>>kotlin</<span class=\"pl-ent\">generatorName</span>>\n                                <<span class=\"pl-ent\">configOptions</span>>\n                                    <<span class=\"pl-ent\">library</span>>jvm-spring-webclient</<span class=\"pl-ent\">library</span>>\n                                    <<span class=\"pl-ent\">dateLibrary</span>>java8</<span class=\"pl-ent\">dateLibrary</span>>\n                                    <<span class=\"pl-ent\">modelMutable</span>>false</<span class=\"pl-ent\">modelMutable</span>>\n                                    <<span class=\"pl-ent\">serializableModel</span>>false</<span class=\"pl-ent\">serializableModel</span>>\n                                    <<span class=\"pl-ent\">serializationLibrary</span>>jackson</<span class=\"pl-ent\">serializationLibrary</span>>\n                                    <<span class=\"pl-ent\">enumPropertyNaming</span>>original</<span class=\"pl-ent\">enumPropertyNaming</span>>\n                                    <<span class=\"pl-ent\">useSpringBoot3</span>>false</<span class=\"pl-ent\">useSpringBoot3</span>>\n                                </<span class=\"pl-ent\">configOptions</span>>\n                                <<span class=\"pl-ent\">generateApis</span>>true</<span class=\"pl-ent\">generateApis</span>>\n                                <<span class=\"pl-ent\">generateApiDocumentation</span>>false</<span class=\"pl-ent\">generateApiDocumentation</span>>\n                                <<span class=\"pl-ent\">generateApiTests</span>>false</<span class=\"pl-ent\">generateApiTests</span>>\n                                <<span class=\"pl-ent\">generateSupportingFiles</span>>true</<span class=\"pl-ent\">generateSupportingFiles</span>>\n                                <<span class=\"pl-ent\">generateModelTests</span>>false</<span class=\"pl-ent\">generateModelTests</span>>\n                                <<span class=\"pl-ent\">generateModelDocumentation</span>>false</<span class=\"pl-ent\">generateModelDocumentation</span>>\n                            </<span class=\"pl-ent\">configuration</span>>\n                        </<span class=\"pl-ent\">execution</span>>\n                    </<span class=\"pl-ent\">executions</span>>\n </<span class=\"pl-ent\">plugin</span>></pre></div>\n<h5 dir=\"auto\">Steps to reproduce</h5>\n<p dir=\"auto\">Use mvn plugin as above<br>\nIt generated following classes:<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/50624143/298635431-b7895dbc-9e41-42d2-a75d-bfd310a259f1.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIwODM2NDgsIm5iZiI6MTcxMjA4MzM0OCwicGF0aCI6Ii81MDYyNDE0My8yOTg2MzU0MzEtYjc4OTVkYmMtOWU0MS00MmQyLWE3NWQtYmZkMzEwYTI1OWYxLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MDIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDAyVDE4NDIyOFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTYzM2JhNTNiMmNiNWZhZDM5ZWE5YmYxNzdmOWEwZDkyNzRkYTA5NDI5Y2ZkOWNmMTczOTc2NDk3ZTgyM2M5NDEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.X0xLPSfm2U5jTkG9DtxiM5F6x59tBQ0WDuxE0VxOEOM\"><img src=\"https://private-user-images.githubusercontent.com/50624143/298635431-b7895dbc-9e41-42d2-a75d-bfd310a259f1.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIwODM2NDgsIm5iZiI6MTcxMjA4MzM0OCwicGF0aCI6Ii81MDYyNDE0My8yOTg2MzU0MzEtYjc4OTVkYmMtOWU0MS00MmQyLWE3NWQtYmZkMzEwYTI1OWYxLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MDIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDAyVDE4NDIyOFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTYzM2JhNTNiMmNiNWZhZDM5ZWE5YmYxNzdmOWEwZDkyNzRkYTA5NDI5Y2ZkOWNmMTczOTc2NDk3ZTgyM2M5NDEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.X0xLPSfm2U5jTkG9DtxiM5F6x59tBQ0WDuxE0VxOEOM\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">MyResponse.kt</p>\n<div class=\"highlight highlight-source-kotlin notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"data class MyResponse (\n\n    @field:JsonProperty(\"whatever\")\n    val whatever: kotlin.String? = null,\n\n    @field:JsonProperty(\"code\")\n    val code: kotlin.String? = null,\n\n    @field:JsonProperty(\"status\")\n    val status: MyResponseAllOfStatus? = null,\n\n    @field:JsonProperty(\"anotherParam\")\n    val anotherParam: MyResponseAllOfAnotherParam? = null\n\n)\"><pre class=\"notranslate\"><span class=\"pl-k\">data class</span> <span class=\"pl-en\">MyResponse</span> (\n\n    @field:JsonProperty(\"whatever\")\n    <span class=\"pl-k\">val</span> <span class=\"pl-smi\">whatever</span><span class=\"pl-k\">:</span> kotlin.<span class=\"pl-c1\">String?</span> = <span class=\"pl-c1\">null</span>,\n\n    @field:JsonProperty(\"code\")\n    <span class=\"pl-k\">val</span> <span class=\"pl-smi\">code</span><span class=\"pl-k\">:</span> kotlin.<span class=\"pl-c1\">String?</span> = <span class=\"pl-c1\">null</span>,\n\n    @field:JsonProperty(\"status\")\n    <span class=\"pl-k\">val</span> <span class=\"pl-smi\">status</span><span class=\"pl-k\">:</span> <span class=\"pl-en\">MyResponseAllOfStatus</span><span class=\"pl-k\">?</span> = <span class=\"pl-c1\">null</span>,\n\n    @field:JsonProperty(\"anotherParam\")\n    <span class=\"pl-k\">val</span> <span class=\"pl-smi\">anotherParam</span><span class=\"pl-k\">:</span> <span class=\"pl-en\">MyResponseAllOfAnotherParam</span><span class=\"pl-k\">?</span> = <span class=\"pl-c1\">null</span>\n\n)</pre></div>\n<p dir=\"auto\">It is using some <code class=\"notranslate\"><class-name>AllOf<parameterName></code> parameters instead of actual parameters/classes, I hope it is not intentional as they are generated again for every class, which would cause so much mapping from one to another in code.</p>\n<p dir=\"auto\">MyResponseAllOfStatus.kt</p>\n<div class=\"highlight highlight-source-kotlin notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"data class MyResponseAllOfStatus (\n\n)\n\"><pre class=\"notranslate\"><span class=\"pl-k\">data class</span> <span class=\"pl-en\">MyResponseAllOfStatus</span> (\n\n)\n</pre></div>\n<p dir=\"auto\">It is generating empty data class instead of enum for AllOf enum reference. (code can't even compile thanks to this).</p>\n<p dir=\"auto\">MyResponseAllOfAnotherParam.kt is the same as AnotherParam.kt (only difference is name)<br>\nMyResponseBase.kt was generated correctly</p>\n<h5 dir=\"auto\">Related issues/PRs</h5>\n<p dir=\"auto\">I think at least those issues are related:<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2065951125\" data-permission-text=\"Title is private\" data-url=\"https://github.com/OpenAPITools/openapi-generator/issues/17534\" data-hovercard-type=\"issue\" data-hovercard-url=\"/OpenAPITools/openapi-generator/issues/17534/hovercard\" href=\"https://github.com/OpenAPITools/openapi-generator/issues/17534\">#17534</a><br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2069874594\" data-permission-text=\"Title is private\" data-url=\"https://github.com/OpenAPITools/openapi-generator/issues/17551\" data-hovercard-type=\"issue\" data-hovercard-url=\"/OpenAPITools/openapi-generator/issues/17551/hovercard\" href=\"https://github.com/OpenAPITools/openapi-generator/issues/17551\">#17551</a><br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2068290427\" data-permission-text=\"Title is private\" data-url=\"https://github.com/OpenAPITools/openapi-generator/issues/17542\" data-hovercard-type=\"issue\" data-hovercard-url=\"/OpenAPITools/openapi-generator/issues/17542/hovercard\" href=\"https://github.com/OpenAPITools/openapi-generator/issues/17542\">#17542</a></p>\n<h5 dir=\"auto\">Suggest a fix</h5>\n<p dir=\"auto\">As I went through release notes, I suggest this PR is responsible: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2001219371\" data-permission-text=\"Title is private\" data-url=\"https://github.com/OpenAPITools/openapi-generator/issues/17141\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/OpenAPITools/openapi-generator/pull/17141/hovercard\" href=\"https://github.com/OpenAPITools/openapi-generator/pull/17141\">#17141</a></p>",
  "description_text": "Bug Report Checklist\n\n Have you provided a full/minimal spec to reproduce the issue?\n Have you validated the input using an OpenAPI validator (example)?\n Have you tested with the latest master to confirm the issue still exists? (used with maven not CLI)\n Have you searched for related issues/PRs?\n What's the actual output vs expected output?\n [Optional] Sponsorship to speed up the bug fix or feature request (example)\n\nDescription\nWhen OpenApi specification contains 'allOf' combined with multiple '$ref' generation is broken. Please see example bellow:\nopenapi-generator version\n7.2.0\nOpenAPI declaration file content or url\nopenapi: 3.0.1\ninfo:\n  title: aaa\n  version: 1.0.0\n  contact:\n    name: \"aaa\"\n    url: \"https://aaa.com\"\n    email: \"aaaa@gmail.com\"\n  description: \"aaa\"\n\n\nservers:\n  - url: http://localhost:8080/\n    description: Local development\n\ntags:\n  - name: my_tag\npaths:\n\n  /some/get:\n    get:\n      tags:\n        - my_tag\n      summary: aa\n      description: aa\n      operationId: aa\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/MyResponse'\n      security:\n        - default: []\n\ncomponents:\n  schemas:\n    MyResponse:\n      type: object\n      allOf:\n        - $ref: '#/components/schemas/MyResponseBase'\n        - type: object\n          properties:\n            code:\n              type: string\n            status:\n              allOf:\n                - $ref: '#/components/schemas/StatusEnum'\n            anotherParam:\n              allOf:\n                - $ref: '#/components/schemas/AnotherParam'\n    MyResponseBase:\n      type: object\n      properties:\n        whatever:\n          type: string\n    AnotherParam:\n      type: object\n      properties:\n        whatever:\n          type: string\n    StatusEnum:\n      type: string\n      enum:\n        - A\n        - B\n        - C\n  securitySchemes:\n    default:\n      type: http\n      scheme: basic\nGeneration Details\nSorry maven for me, not a cli :(\n<plugin>\n                    <groupId>org.openapitoolsgroupId>\n                    <artifactId>openapi-generator-maven-pluginartifactId>\n                    <version>7.2.0<version>\n                    <executions>\n\n                        <execution>\n                            <id>generate-clientid>\n                            <goals><goal>generategoal>goals>\n                            <phase>process-resourcesphase>\n                            <configuration>\n                                <inputSpec>${specs.dir}${spec.yaml.file}inputSpec>\n                                <generatorName>kotlingeneratorName>\n                                <configOptions>\n                                    <library>jvm-spring-webclientlibrary>\n                                    <dateLibrary>java8dateLibrary>\n                                    <modelMutable>falsemodelMutable>\n                                    <serializableModel>falseserializableModel>\n                                    <serializationLibrary>jacksonserializationLibrary>\n                                    <enumPropertyNaming>originalenumPropertyNaming>\n                                    <useSpringBoot3>falseuseSpringBoot3>\n                                configOptions>\n                                <generateApis>truegenerateApis>\n                                <generateApiDocumentation>falsegenerateApiDocumentation>\n                                <generateApiTests>falsegenerateApiTests>\n                                <generateSupportingFiles>truegenerateSupportingFiles>\n                                <generateModelTests>falsegenerateModelTests>\n                                <generateModelDocumentation>falsegenerateModelDocumentation>\n                            configuration>\n                        execution>\n                    executions>\n plugin>\nSteps to reproduce\nUse mvn plugin as above\nIt generated following classes:\n\nMyResponse.kt\ndata class MyResponse (\n\n    @field:JsonProperty(\"whatever\")\n    val whatever: kotlin.String? = null,\n\n    @field:JsonProperty(\"code\")\n    val code: kotlin.String? = null,\n\n    @field:JsonProperty(\"status\")\n    val status: MyResponseAllOfStatus? = null,\n\n    @field:JsonProperty(\"anotherParam\")\n    val anotherParam: MyResponseAllOfAnotherParam? = null\n\n)\nIt is using some AllOf parameters instead of actual parameters/classes, I hope it is not intentional as they are generated again for every class, which would cause so much mapping from one to another in code.\nMyResponseAllOfStatus.kt\ndata class MyResponseAllOfStatus (\n\n)\n\nIt is generating empty data class instead of enum for AllOf enum reference. (code can't even compile thanks to this).\nMyResponseAllOfAnotherParam.kt is the same as AnotherParam.kt (only difference is name)\nMyResponseBase.kt was generated correctly\nRelated issues/PRs\nI think at least those issues are related:\n#17534\n#17551\n#17542\nSuggest a fix\nAs I went through release notes, I suggest this PR is responsible: #17141"
}